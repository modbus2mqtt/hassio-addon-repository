import{c as Er,d as Dr,e as Mr,f as Ir,g as kr,h as Ar,j as Pr,l as Fr,m as Qi,n as Rr}from"./chunk-PSZ523TA.js";import{$ as re,$b as nr,$c as _r,Aa as si,Ac as Li,Ad as zt,Ba as bn,Bb as Ft,Ca as vn,Cb as Wa,Cc as Ot,Cd as dt,D as Da,Da as yn,Db as he,Dc as Bi,Dd as jt,E as Ma,Ea as c,Eb as Ya,Ec as cr,Ed as qt,F as Ce,Fa as m,Fb as Xa,Fc as dr,G as ri,Ga as R,Gb as Za,Gc as Lt,Gd as Cr,H as Oe,Ha as G,Hb as Ja,Hc as Ee,Hd as Qt,Ia as W,Ib as ci,Ic as Vi,Id as ji,J as Ia,Jb as Ai,Jc as Sn,Jd as Tr,K as P,Ka as B,Kc as Bt,Kd as Ht,La as li,Lc as mr,Ld as Sr,M as me,Ma as Na,Mc as ur,Md as wr,N as Te,Na as Oa,Nb as Pi,Nc as We,Nd as Kt,O as Q,Oa as w,Oc as pr,P as bt,Pa as La,Pb as Fi,Q as _,Qa as f,Qb as ot,Qd as mt,R as _n,Ra as vt,Rd as Ut,S as y,Sa as it,Sb as Cn,Sc as hr,Sd as $t,T as C,Ta as Be,Tb as er,Tc as fr,Td as Gt,U as ka,Ua as K,Uc as zi,Ud as Wt,Va as O,Vc as gr,Vd as Yt,W as et,Wa as L,Wc as wn,Wd as xr,X as Ke,Xa as yt,Xb as tr,Xc as Ye,Xd as Xt,Ya as p,Yc as lt,Z as H,Za as q,Zb as Ri,Zc as Vt,Zd as Zt,_ as Ue,_a as ce,_b as ir,_c as ct,_d as qi,a as ee,aa as Di,ab as $e,ac as ar,ad as qe,b as ni,ba as Le,bb as nt,bc as rr,bd as br,c as Ca,ca as Aa,cb as Ii,cc as Rt,da as Pt,db as Ba,dc as or,e as Fe,eb as Va,ec as Ge,ed as vr,f as Si,fa as oi,fb as za,fc as st,g as j,gb as ja,h as ai,hb as Ve,hc as sr,ia as u,ib as ne,ic as k,j as Ta,ja as N,jb as ki,jc as ze,k as Re,ka as tt,kb as at,kc as Ct,kd as ui,la as Pa,lb as qa,lc as Me,ld as xn,m as Ne,ma as Fa,mb as rt,mc as lr,n as wi,na as Mi,nb as xe,nc as Z,oc as je,p as xi,pa as F,pc as Ie,q as Sa,qa as Se,qc as Nt,qd as yr,r as Ei,ra as te,rc as Tn,s as wa,sa as ue,sb as Qa,sc as Ni,ta as we,tc as di,u as _e,ua as E,uc as Oi,v as He,va as ie,vb as Ha,w as xa,wa as h,wb as Ka,x as Ea,xa as Ra,xb as Ua,xc as mi,y as At,ya as le,yb as $a,yd as fe,za as pe,zb as Ga}from"./chunk-XATZT6MD.js";var Xo=["mat-menu-item",""],Zo=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Jo=["mat-icon, [matMenuItemIcon]","*"];function es(a,i){a&1&&(ka(),c(0,"svg",2),R(1,"polygon",3),m());}var ts=["*"];function is(a,i){if(a&1){let e=B();c(0,"div",0),w("click",function(){y(e);let n=f();return C(n.closed.emit("click"));})("animationstart",function(n){y(e);let r=f();return C(r._onAnimationStart(n.animationName));})("animationend",function(n){y(e);let r=f();return C(r._onAnimationDone(n.animationName));})("animationcancel",function(n){y(e);let r=f();return C(r._onAnimationDone(n.animationName));}),c(1,"div",1),it(2),m()();}if(a&2){let e=f();pe(e._classList),le("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating),h("id",e.panelId),ie("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null);}}var kn=new Q("MAT_MENU_PANEL"),Dn=(()=>{class a{_elementRef=_(re);_document=_(at);_focusMonitor=_(Rt);_parentMenu=_(kn,{optional:!0});_changeDetectorRef=_(Ve);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new j();_focused=new j();_highlighted=!1;_triggersSubmenu=!1;constructor(){_(Fi).load(Oi),this._parentMenu?.addItem?.(this);}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this);}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1);}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete();}_getTabIndex(){return this.disabled?"-1":"0";}_getHostElement(){return this._elementRef.nativeElement;}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation());}_handleMouseEnter(){this._hovered.next(this);}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),t=e.querySelectorAll("mat-icon, .material-icons");for(let n=0;n<t.length;n++)t[n].remove();return e.textContent?.trim()||"";}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck();}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck();}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement();}static ɵfac=function(t){return new(t||a)();};static ɵcmp=F({type:a,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(t,n){t&1&&w("click",function(o){return n._checkDisabled(o);})("mouseenter",function(){return n._handleMouseEnter();}),t&2&&(ie("role",n.role)("tabindex",n._getTabIndex())("aria-disabled",n.disabled)("disabled",n.disabled||null),le("mat-mdc-menu-item-highlighted",n._highlighted)("mat-mdc-menu-item-submenu-trigger",n._triggersSubmenu));},inputs:{role:"role",disabled:[2,"disabled","disabled",ne],disableRipple:[2,"disableRipple","disableRipple",ne]},exportAs:["matMenuItem"],features:[we],attrs:Xo,ngContentSelectors:Jo,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,n){t&1&&(vt(Zo),it(0),c(1,"span",0),it(2,1),m(),R(3,"div",1),E(4,es,2,0,":svg:svg",2)),t&2&&(u(3),h("matRippleDisabled",n.disableRipple||n.disabled)("matRippleTrigger",n._getHostElement()),u(),si(n._triggersSubmenu?4:-1));},dependencies:[mi],encapsulation:2,changeDetection:0});}return a;})();var ns=new Q("MatMenuContent");var as=new Q("mat-menu-default-options",{providedIn:"root",factory:rs});function rs(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"};}var En="_mat-menu-enter",Hi="_mat-menu-exit",Jt=(()=>{class a{_elementRef=_(re);_changeDetectorRef=_(Ve);_injector=_(Ke);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new Di();_classList={};_panelAnimationState="void";_animationDone=new j();_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition;}set xPosition(e){this._xPosition=e,this.setPositionClasses();}get yPosition(){return this._yPosition;}set yPosition(e){this._yPosition=e,this.setPositionClasses();}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let t=this._previousPanelClass,n=ee({},this._classList);t&&t.length&&t.split(" ").forEach(r=>{n[r]=!1;}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{n[r]=!0;}),this._elementRef.nativeElement.className=""),this._classList=n;}_previousPanelClass;get classList(){return this.panelClass;}set classList(e){this.panelClass=e;}closed=new H();close=this.closed;panelId=_(Ge).getId("mat-menu-panel-");constructor(){let e=_(as);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop,this._animationsDisabled=_(Le,{optional:!0})==="NoopAnimations";}ngOnInit(){this.setPositionClasses();}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Ri(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ce(this._directDescendantItems),ri(e=>_e(...e.map(t=>t._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let t=this._keyManager;if(this._panelAnimationState==="enter"&&t.activeItem?._hasFocus()){let n=e.toArray(),r=Math.max(0,Math.min(n.length-1,t.activeItemIndex||0));n[r]&&!n[r].disabled?t.setActiveItem(r):t.setNextItemActive();}});}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout);}_hovered(){return this._directDescendantItems.changes.pipe(Ce(this._directDescendantItems),ri(t=>_e(...t.map(n=>n._hovered))));}addItem(e){}removeItem(e){}_handleKeydown(e){let t=e.keyCode,n=this._keyManager;switch(t){case 27:ot(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(t===38||t===40)&&n.setFocusOrigin("keyboard"),n.onKeydown(e);return;}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Pt(()=>{let t=this._resolvePanel();if(!t||!t.contains(document.activeElement)){let n=this._keyManager;n.setFocusOrigin(e).setFirstItemActive(),!n.activeItem&&t&&t.focus();}},{injector:this._injector});}resetActiveItem(){this._keyManager.setActiveItem(-1);}setElevation(e){}setPositionClasses(e=this.xPosition,t=this.yPosition){this._classList=ni(ee({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":t==="above","mat-menu-below":t==="below"}),this._changeDetectorRef.markForCheck();}_onAnimationDone(e){let t=e===Hi;(t||e===En)&&(t&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(t?"void":"enter"),this._isAnimating=!1);}_onAnimationStart(e){(e===En||e===Hi)&&(this._isAnimating=!0);}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let t=this._resolvePanel();t&&(t.scrollTop=0);}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(Hi),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?En:Hi);}),this._changeDetectorRef.markForCheck();}_updateDirectDescendants(){this._allItems.changes.pipe(Ce(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges();});}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e;}static ɵfac=function(t){return new(t||a)();};static ɵcmp=F({type:a,selectors:[["mat-menu"]],contentQueries:function(t,n,r){if(t&1&&(Be(r,ns,5),Be(r,Dn,5),Be(r,Dn,4)),t&2){let o;O(o=L())&&(n.lazyContent=o.first),O(o=L())&&(n._allItems=o),O(o=L())&&(n.items=o);}},viewQuery:function(t,n){if(t&1&&K(tt,5),t&2){let r;O(r=L())&&(n.templateRef=r.first);}},hostVars:3,hostBindings:function(t,n){t&2&&ie("aria-label",null)("aria-labelledby",null)("aria-describedby",null);},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",ne],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:ne(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[$e([{provide:kn,useExisting:a}]),we],ngContentSelectors:ts,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(t,n){t&1&&(vt(),E(0,is,3,12,"ng-template"));},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0});}return a;})(),os=new Q("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let a=_(Ye);return()=>a.scrollStrategies.reposition();}});var Nr=Ai({passive:!0});var pi=new WeakMap(),Vr=(()=>{class a{_overlay=_(Ye);_element=_(re);_viewContainerRef=_(Mi);_menuItemInstance=_(Dn,{optional:!0,self:!0});_dir=_(st,{optional:!0});_focusMonitor=_(Rt);_ngZone=_(Ue);_scrollStrategy=_(os);_changeDetectorRef=_(Ve);_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=Fe.EMPTY;_hoverSubscription=Fe.EMPTY;_menuCloseSubscription=Fe.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_handleTouchStart=e=>{rr(e)||(this._openedBy="touch");};_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu;}set _deprecatedMatMenuTriggerFor(e){this.menu=e;}get menu(){return this._menu;}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(t=>{this._destroyMenu(t),(t==="click"||t==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t);})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()));}_menu;menuData;restoreFocus=!0;menuOpened=new H();onMenuOpen=this.menuOpened;menuClosed=new H();onMenuClose=this.menuClosed;constructor(){let e=_(kn,{optional:!0});this._parentMaterialMenu=e instanceof Jt?e:void 0,this._element.nativeElement.addEventListener("touchstart",this._handleTouchStart,Nr);}ngAfterContentInit(){this._handleHover();}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&pi.delete(this.menu),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Nr),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null);}get menuOpen(){return this._menuOpen;}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr";}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu);}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu();}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;this._pendingRemoval?.unsubscribe();let t=pi.get(e);pi.set(e,this),t&&t!==this&&t.closeMenu();let n=this._createOverlay(e),r=n.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,n.hasAttached()||(n.attach(this._getPortal(e)),e.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),e instanceof Jt&&(e._setIsOpen(!0),e._directDescendantItems.changes.pipe(Oe(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0);}));}closeMenu(){this.menu?.close.emit();}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t);}updatePosition(){this._overlayRef?.updatePosition();}_destroyMenu(e){let t=this._overlayRef,n=this._menu;!t||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),n instanceof Jt&&this._ownsMenu(n)?(this._pendingRemoval=n._animationDone.pipe(At(1)).subscribe(()=>t.detach()),n._setIsOpen(!1)):t.detach(),n&&this._ownsMenu(n)&&pi.delete(n),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1));}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck());}_createOverlay(e){if(!this._overlayRef){let t=this._getOverlayConfig(e);this._subscribeToPositions(e,t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe(n=>{this.menu instanceof Jt&&this.menu._handleKeydown(n);});}return this._overlayRef;}_getOverlayConfig(e){return new zi({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"});}_subscribeToPositions(e,t){e.setPositionClasses&&t.positionChanges.subscribe(n=>{this._ngZone.run(()=>{let r=n.connectionPair.overlayX==="start"?"after":"before",o=n.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(r,o);});});}_setPosition(e,t){let[n,r]=e.xPosition==="before"?["end","start"]:["start","end"],[o,s]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,d]=[o,s],[g,b]=[n,r],I=0;if(this.triggersSubmenu()){if(b=n=e.xPosition==="before"?"start":"end",r=g=n==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let D=this._parentMaterialMenu.items.first;this._parentInnerPadding=D?D._getHostElement().offsetTop:0;}I=o==="bottom"?this._parentInnerPadding:-this._parentInnerPadding;}}else e.overlapTrigger||(l=o==="top"?"bottom":"top",d=s==="top"?"bottom":"top");t.withPositions([{originX:n,originY:l,overlayX:g,overlayY:o,offsetY:I},{originX:r,originY:l,overlayX:b,overlayY:o,offsetY:I},{originX:n,originY:d,overlayX:g,overlayY:s,offsetY:-I},{originX:r,originY:d,overlayX:b,overlayY:s,offsetY:-I}]);}_menuClosingActions(){let e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),n=this._parentMaterialMenu?this._parentMaterialMenu.closed:Re(),r=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(He(o=>this._menuOpen&&o!==this._menuItemInstance)):Re();return _e(e,n,r,t);}_handleMousedown(e){ar(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault());}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===39&&this.dir==="ltr"||t===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu());}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu();}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&(this._openedBy="mouse",this.openMenu());}));}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Bt(e.templateRef,this._viewContainerRef)),this._portal;}_ownsMenu(e){return pi.get(e)===this;}static ɵfac=function(t){return new(t||a)();};static ɵdir=te({type:a,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(t,n){t&1&&w("click",function(o){return n._handleClick(o);})("mousedown",function(o){return n._handleMousedown(o);})("keydown",function(o){return n._handleKeydown(o);}),t&2&&ie("aria-haspopup",n.menu?"menu":null)("aria-expanded",n.menuOpen)("aria-controls",n.menuOpen?n.menu.panelId:null);},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]});}return a;})();var zr={transformMenu:Ct("transformMenu",[je("void",Z({opacity:0,transform:"scale(0.8)"})),Ie("void => enter",Me("120ms cubic-bezier(0, 0, 0.2, 1)",Z({opacity:1,transform:"scale(1)"}))),Ie("* => void",Me("100ms 25ms linear",Z({opacity:0})))]),fadeInItems:Ct("fadeInItems",[je("showing",Z({opacity:1})),Ie("void => *",[Z({opacity:0}),Me("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Gd=zr.fadeInItems,Wd=zr.transformMenu;var jr=(()=>{class a{constructor(e){this.router=e;}getActiveRoute(){return this.router.url;}static{this.ɵfac=function(t){return new(t||a)(N(he));};}static{this.ɵcmp=F({type:a,selectors:[["app-header"]],decls:27,vars:13,consts:[["configMenu",""],[1,"flexrowsNoWrap","header"],[1,"menuButton"],["mat-icon-button","","matTooltip","Configuration",1,"hover-display",3,"matMenuTriggerFor"],[3,"routerLink"],["mat-button","",3,"disabled"],["mat-button","","aria-label","Register User ...",3,"disabled"],["src","assets/images/icon.png",2,"width","1.5em","height","1.5em"],[1,"middle","flex-auto"]],template:function(t,n){if(t&1&&(c(0,"div",1)(1,"div",2)(2,"button",3)(3,"mat-icon"),p(4,"menu"),m()(),c(5,"mat-menu",null,0)(7,"a",4)(8,"button",5),p(9," Configure MQTT/Github ... "),m()(),R(10,"br"),c(11,"a",4)(12,"button",5),p(13," Contribute/Import/Export Spec. "),m()(),R(14,"br"),c(15,"a",4)(16,"button",5),p(17," Show Busses ... "),m()(),R(18,"br"),c(19,"a",4)(20,"button",6),p(21," Register User ... "),m()()()(),c(22,"div"),R(23,"img",7),m(),c(24,"div",8)(25,"h1"),p(26,"Modbus2MQTT"),m()()()),t&2){let r=yt(6);u(2),h("matMenuTriggerFor",r),u(5),h("routerLink","/configure"),u(),h("disabled",n.getActiveRoute()=="/configure"),u(3),h("routerLink","/specifications"),u(),h("disabled",n.getActiveRoute()=="/specifications"),u(3),pe(n.getActiveRoute()=="/busses"?"disabled":""),h("routerLink","/busses"),u(),h("disabled",n.getActiveRoute()=="/busses"),u(3),pe(n.getActiveRoute()=="/register"?"disabled":""),h("routerLink","/register"),u(),h("disabled",n.getActiveRoute()=="/register");}},dependencies:[ct,lt,Vr,Ee,Jt,Ya,Vt],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none;color:#e63e3e;cursor:default}@media (max-width: 800pt){.middle[_ngcontent-%COMP%]{align-self:flex-start}}"]});}}return a;})();var qr=(()=>{class a{constructor(){this.title="modbus2mqtt";}static{this.ɵfac=function(t){return new(t||a)();};}static{this.ɵcmp=F({type:a,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"topmargin"]],template:function(t,n){t&1&&R(0,"app-header")(1,"div",0)(2,"router-outlet");},dependencies:[jr,Ja,Wa],styles:[".topmargin[_ngcontent-%COMP%]{height:2em}"]});}}return a;})();var ut=(()=>{class a{constructor(e,t){this.api=e,this.router=t;}getForwardUrl(e){let n=this.router.parseUrl(this.router.url).queryParamMap.get("toUrl");return n||e;}afterAuthentication(e,t){return t?!0:e.mqttConfigured?e.preSelectedBusId?(this.router.navigate(["slaves",e.preSelectedBusId],{queryParams:{toUrl:this.getForwardUrl("/")}}),!1):!0:(this.router.navigate(["mqtt"],{queryParams:{toUrl:this.getForwardUrl("/")}}),!1);}canActivate(e){return this.api.getUserAuthenticationStatus().pipe(Ne(t=>t.hassiotoken||t.noAuthentication?!0:t.registered?!new qe().getAuthToken()||t.authTokenExpired?(this.router.navigate(["login"],{queryParams:{toUrl:this.getForwardUrl("/")}}),!1):!0:(this.router.navigate(["register"]),!1)),Ia(t=>{}));}static{this.ɵfac=function(t){return new(t||a)(bt(fe),bt(he));};}static{this.ɵprov=me({token:a,factory:a.ɵfac,providedIn:"root"});}}return a;})();var Qr=(()=>{class a{constructor(){}intercept(e,t){let n=new qe().getAuthToken();if(n){let r=e.clone({headers:e.headers.set("Authorization","Bearer "+n)});return t.handle(r);}else return t.handle(e);}static{this.ɵfac=function(t){return new(t||a)();};}static{this.ɵprov=me({token:a,factory:a.ɵfac});}}return a;})();function ls(a,i){}var pt=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!0;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext;};var Pn=(()=>{class a extends mr{_elementRef=_(re);_focusTrapFactory=_(nr);_config;_interactivityChecker=_(ir);_ngZone=_(Ue);_overlayRef=_(wn);_focusMonitor=_(Rt);_renderer=_(Fa);_platform=_(ci);_document=_(at,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=_(Ve);_injector=_(Ke);_isDestroyed=!1;constructor(){super(),this._config=_(pt,{optional:!0})||new pt(),this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy);}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck();}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck());}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus();}_captureInitialFocus(){this._trapFocus();}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus();}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t;}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t;}attachDomPortal=e=>{this._portalOutlet.hasAttached();let t=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),t;};_recaptureFocus(){this._containsFocus()||this._trapFocus();}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{r(),o(),e.removeAttribute("tabindex");},r=this._renderer.listen(e,"blur",n),o=this._renderer.listen(e,"mousedown",n);})),e.focus(t);}_focusByCssSelector(e,t){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,t);}_trapFocus(){this._isDestroyed||Pt(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break;}},{injector:this._injector});}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let n=Pi(),r=this._elementRef.nativeElement;(!n||n===this._document.body||n===r||r.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus());}this._focusTrap&&this._focusTrap.destroy();}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus();}_containsFocus(){let e=this._elementRef.nativeElement,t=Pi();return e===t||e.contains(t);}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Pi()));}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus();});}static ɵfac=function(t){return new(t||a)();};static ɵcmp=F({type:a,selectors:[["cdk-dialog-container"]],viewQuery:function(t,n){if(t&1&&K(We,7),t&2){let r;O(r=L())&&(n._portalOutlet=r.first);}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,n){t&2&&ie("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null);},features:[ue],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,n){t&1&&E(0,ls,0,0,"ng-template",0);},dependencies:[We],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});}return a;})(),fi=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new j();backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(i,e){this.overlayRef=i,this.config=e,this.disableClose=e.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!ot(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}));}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"});}),this._detachSubscription=i.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close();});}close(i,e){if(this.containerInstance){let t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(i),t.complete(),this.componentInstance=this.containerInstance=null;}}updatePosition(){return this.overlayRef.updatePosition(),this;}updateSize(i="",e=""){return this.overlayRef.updateSize({width:i,height:e}),this;}addPanelClass(i){return this.overlayRef.addPanelClass(i),this;}removePanelClass(i){return this.overlayRef.removePanelClass(i),this;}},cs=new Q("DialogScrollStrategy",{providedIn:"root",factory:()=>{let a=_(Ye);return()=>a.scrollStrategies.block();}}),ds=new Q("DialogData"),ms=new Q("DefaultDialogConfig");var Hr=(()=>{class a{_overlay=_(Ye);_injector=_(Ke);_defaultOptions=_(ms,{optional:!0});_parentDialog=_(a,{optional:!0,skipSelf:!0});_overlayContainer=_(gr);_idGenerator=_(Ge);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new j();_afterOpenedAtThisLevel=new j();_ariaHiddenElements=new Map();_scrollStrategy=_(cs);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel;}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel;}afterAllClosed=xi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ce(void 0)));constructor(){}open(e,t){let n=this._defaultOptions||new pt();t=ee(ee({},n),t),t.id=t.id||this._idGenerator.getId("cdk-dialog-"),t.id&&this.getDialogById(t.id);let r=this._getOverlayConfig(t),o=this._overlay.create(r),s=new fi(o,t),l=this._attachContainer(o,s,t);return s.containerInstance=l,this._attachDialogContent(e,s,l,t),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s;}closeAll(){An(this.openDialogs,e=>e.close());}getDialogById(e){return this.openDialogs.find(t=>t.id===e);}ngOnDestroy(){An(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1);}),An(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[];}_getOverlayConfig(e){let t=new zi({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t;}_attachContainer(e,t,n){let r=n.injector||n.viewContainerRef?.injector,o=[{provide:pt,useValue:n},{provide:fi,useValue:t},{provide:wn,useValue:e}],s;n.container?typeof n.container=="function"?s=n.container:(s=n.container.type,o.push(...n.container.providers(n))):s=Pn;let l=new Sn(s,n.viewContainerRef,Ke.create({parent:r||this._injector,providers:o}));return e.attach(l).instance;}_attachDialogContent(e,t,n,r){if(e instanceof tt){let o=this._createInjector(r,t,n,void 0),s={$implicit:r.data,dialogRef:t};r.templateContext&&(s=ee(ee({},s),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),n.attachTemplatePortal(new Bt(e,null,s,o));}else{let o=this._createInjector(r,t,n,this._injector),s=n.attachComponentPortal(new Sn(e,r.viewContainerRef,o));t.componentRef=s,t.componentInstance=s.instance;}}_createInjector(e,t,n,r){let o=e.injector||e.viewContainerRef?.injector,s=[{provide:ds,useValue:e.data},{provide:fi,useValue:t}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(t,e,n)):s.push(...e.providers)),e.direction&&(!o||!o.get(st,null,{optional:!0}))&&s.push({provide:st,useValue:{value:e.direction,change:Re()}}),Ke.create({parent:o||r,providers:s});}_removeOpenDialog(e,t){let n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden");}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()));}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let r=t[n];r!==e&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"));}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel;}static ɵfac=function(t){return new(t||a)();};static ɵprov=me({token:a,factory:a.ɵfac,providedIn:"root"});}return a;})();function An(a,i){let e=a.length;for(;e--;)i(a[e]);}function us(a,i){}var Ui=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!0;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration;},Fn="mdc-dialog--open",Kr="mdc-dialog--opening",Ur="mdc-dialog--closing",ps=150,hs=75,fs=(()=>{class a extends Pn{_animationMode=_(Le,{optional:!0});_animationStateChanged=new H();_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?Gr(this._config.enterAnimationDuration)??ps:0;_exitAnimationDuration=this._animationsEnabled?Gr(this._config.exitAnimationDuration)??hs:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation();}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty($r,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Kr,Fn)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Fn),Promise.resolve().then(()=>this._finishDialogOpen()));}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Fn),this._animationsEnabled?(this._hostElement.style.setProperty($r,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ur)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose());}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck();}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration);};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration});};_clearAnimationClasses(){this._hostElement.classList.remove(Kr,Ur);}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e);}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e();});}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus();}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e});}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer);}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t;}static ɵfac=(()=>{let e;return function(n){return(e||(e=et(a)))(n||a);};})();static ɵcmp=F({type:a,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,n){t&2&&(li("id",n._config.id),ie("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),le("_mat-animation-noopable",!n._animationsEnabled)("mat-mdc-dialog-container-with-actions",n._actionSectionCount>0));},features:[ue],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,n){t&1&&(c(0,"div",0)(1,"div",1),E(2,us,0,0,"ng-template",2),m()());},dependencies:[We],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});}return a;})(),$r="--mat-dialog-transition-duration";function Gr(a){return a==null?null:typeof a=="number"?a:a.endsWith("ms")?Cn(a.substring(0,a.length-2)):a.endsWith("s")?Cn(a.substring(0,a.length-1))*1e3:a==="0"?0:null;}var Ki=function(a){return a[a.OPEN=0]="OPEN",a[a.CLOSING=1]="CLOSING",a[a.CLOSED=2]="CLOSED",a;}(Ki||{}),$i=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new j();_beforeClosed=new j();_result;_closeFallbackTimeout;_state=Ki.OPEN;_closeInteractionType;constructor(i,e,t){this._ref=i,this._containerInstance=t,this.disableClose=e.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(He(n=>n.state==="opened"),At(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete();}),t._animationStateChanged.pipe(He(n=>n.state==="closed"),At(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose();}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose();}),_e(this.backdropClick(),this.keydownEvents().pipe(He(n=>n.keyCode===27&&!this.disableClose&&!ot(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),gs(this,n.type==="keydown"?"keyboard":"mouse"));});}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(He(e=>e.state==="closing"),At(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100);}),this._state=Ki.CLOSING,this._containerInstance._startExitAnimation();}afterOpened(){return this._afterOpened;}afterClosed(){return this._ref.closed;}beforeClosed(){return this._beforeClosed;}backdropClick(){return this._ref.backdropClick;}keydownEvents(){return this._ref.keydownEvents;}updatePosition(i){let e=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._ref.updatePosition(),this;}updateSize(i="",e=""){return this._ref.updateSize(i,e),this;}addPanelClass(i){return this._ref.addPanelClass(i),this;}removePanelClass(i){return this._ref.removePanelClass(i),this;}getState(){return this._state;}_finishDialogClose(){this._state=Ki.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null;}};function gs(a,i,e){return a._closeInteractionType=i,a.close(e);}var _s=new Q("MatMdcDialogData"),bs=new Q("mat-mdc-dialog-default-options"),vs=new Q("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let a=_(Ye);return()=>a.scrollStrategies.block();}});var ys=(()=>{class a{_overlay=_(Ye);_defaultOptions=_(bs,{optional:!0});_scrollStrategy=_(vs);_parentDialog=_(a,{optional:!0,skipSelf:!0});_idGenerator=_(Ge);_dialog=_(Hr);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new j();_afterOpenedAtThisLevel=new j();dialogConfigClass=Ui;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel;}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel;}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel;}afterAllClosed=xi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ce(void 0)));constructor(){this._dialogRefConstructor=$i,this._dialogContainerType=fs,this._dialogDataToken=_s;}open(e,t){let n;t=ee(ee({},this._defaultOptions||new Ui()),t),t.id=t.id||this._idGenerator.getId("mat-mdc-dialog-"),t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let r=this._dialog.open(e,ni(ee({},t),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:pt,useValue:t}]},templateContext:()=>({dialogRef:n}),providers:(o,s,l)=>(n=new this._dialogRefConstructor(o,t,l),n.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:n}])}));return n.componentRef=r.componentRef,n.componentInstance=r.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{let o=this.openDialogs.indexOf(n);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||this._getAfterAllClosed().next());}),n;}closeAll(){this._closeDialogs(this.openDialogs);}getDialogById(e){return this.openDialogs.find(t=>t.id===e);}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete();}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close();}static ɵfac=function(t){return new(t||a)();};static ɵprov=me({token:a,factory:a.ɵfac,providedIn:"root"});}return a;})();var Cs=(()=>{class a{_dialogRef=_($i,{optional:!0});_elementRef=_(re);_dialog=_(ys);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=Ts(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd();});}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove();});}static ɵfac=function(t){return new(t||a)();};static ɵdir=te({type:a});}return a;})(),Wr=(()=>{class a extends Cs{id=_(Ge).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id);}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id);}static ɵfac=(()=>{let e;return function(n){return(e||(e=et(a)))(n||a);};})();static ɵdir=te({type:a,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,n){t&2&&li("id",n.id);},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[ue]});}return a;})();function Ts(a,i){let e=a.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?i.find(t=>t.id===e.id):null;}function Ss(a,i){a&1&&(c(0,"mat-error"),p(1," Username is a required field "),m());}function ws(a,i){a&1&&(c(0,"mat-error"),p(1," Password is a required field "),m());}function xs(a,i){a&1&&(c(0,"button",9),p(1,"No Authorization required"),m());}var Nn=(()=>{class a{constructor(e,t,n,r){this._formBuilder=e,this.api=t,this.router=n,this.route=r,this.hide=!0,this.isRegisterMode=!1;}ngAfterViewInit(){this.sub=this.route.paramMap.subscribe(e=>{this.toUrl=e.get("toUrl")||"";});}ngOnInit(){let e=this.router.url.indexOf("register");this.isRegisterMode=e>=0,this.form=this._formBuilder.group({username:["",this.usernamePasswordRequired],password:["",this.usernamePasswordRequired]});}login(e,t,n){this.api.getUserLogin(e,t).subscribe(r=>{new qe().setAuthToken(r),this.router.navigate([n],{queryParams:{tokenWasExpired:!0}});});}onSubmit(e){let t=this.form.get("username").value,n=this.form.get("password").value;if(this.isRegisterMode){let r=e.submitter.value=="noAuthentication";!r&&!t?alert("Please enter a username"):!r&&!n?alert("Please enter a password"):this.api.postUserRegister(t,n,r).subscribe(()=>{r?this.router.navigate(["/"],{}):this.login(t,n,"/");});}else this.login(t,n,"/");}usernamePasswordRequired(){return e=>this.isRegisterMode?null:dt.required(e);}static{this.ɵfac=function(t){return new(t||a)(N(mt),N(fe),N(he),N(Ft));};}static{this.ɵcmp=F({type:a,selectors:[["app-login"]],decls:20,vars:8,consts:[[1,"flexcolumns",3,"submit","formGroup"],[1,"width250pt,","center"],["mat-dialog-title",""],["tabindex","0","id","username","matInput","","formControlName","username",1,"width150pt"],[4,"ngIf"],["tabindex","1","matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],["tabindex","2","mat-raised-button","","type","submit","value","noAuthentication",4,"ngIf"],["tabindex","3","mat-raised-button","","type","submit","value","authentication","color","primary"],["tabindex","2","mat-raised-button","","type","submit","value","noAuthentication"]],template:function(t,n){t&1&&(c(0,"form",0),w("submit",function(o){return n.onSubmit(o);}),c(1,"div",1)(2,"h3",2),p(3),m()(),c(4,"mat-form-field",1)(5,"mat-label"),p(6,"Username"),m(),R(7,"input",3),E(8,Ss,2,0,"mat-error",4),m(),c(9,"mat-form-field",1)(10,"mat-label"),p(11,"Password"),m(),R(12,"input",5),c(13,"mat-icon",6),w("click",function(){return n.hide=!n.hide;}),p(14),m(),E(15,ws,2,0,"mat-error",4),m(),c(16,"mat-card-actions",1),E(17,xs,2,0,"button",7),c(18,"button",8),p(19),m()()()),t&2&&(h("formGroup",n.form),u(3),q(n.isRegisterMode?"Register User":"Login"),u(5),h("ngIf",n.form.get("username").hasError("required")!=null),u(4),h("type",n.hide?"password":"text"),u(2),q(n.hide?"visibility_off":"visibility"),u(),h("ngIf",n.form.get("password").hasError("required")!=null),u(2),h("ngIf",n.isRegisterMode),u(2),q(n.isRegisterMode?"REGISTER and LOGIN":"LOGIN"));},dependencies:[Ut,Qt,zt,jt,qt,$t,Ht,Kt,Wr,Lt,Ot,Zt,xe,Bi,Ee,cr,xr,Vt],styles:[".center[_ngcontent-%COMP%]{align-self:center}"]});}}return a;})();var Es=9007199254740991,Gi=class extends pr{_data;_renderData=new ai([]);_filter=new ai("");_internalPageChanges=new j();_renderChangesSubscription=null;filteredData;get data(){return this._data.value;}set data(i){i=Array.isArray(i)?i:[],this._data.next(i),this._renderChangesSubscription||this._filterData(i);}get filter(){return this._filter.value;}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data);}get sort(){return this._sort;}set sort(i){this._sort=i,this._updateChangeSubscription();}_sort;get paginator(){return this._paginator;}set paginator(i){this._paginator=i,this._updateChangeSubscription();}_paginator;sortingDataAccessor=(i,e)=>{let t=i[e];if(er(t)){let n=Number(t);return n<Es?n:t;}return t;};sortData=(i,e)=>{let t=e.active,n=e.direction;return!t||n==""?i:i.sort((r,o)=>{let s=this.sortingDataAccessor(r,t),l=this.sortingDataAccessor(o,t),d=typeof s,g=typeof l;d!==g&&(d==="number"&&(s+=""),g==="number"&&(l+=""));let b=0;return s!=null&&l!=null?s>l?b=1:s<l&&(b=-1):s!=null?b=1:l!=null&&(b=-1),b*(n=="asc"?1:-1);});};filterPredicate=(i,e)=>{let t=e.trim().toLowerCase();return Object.values(i).some(n=>`${n}`.toLowerCase().includes(t));};constructor(i=[]){super(),this._data=new ai(i),this._updateChangeSubscription();}_updateChangeSubscription(){let i=this._sort?_e(this._sort.sortChange,this._sort.initialized):Re(null),e=this._paginator?_e(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Re(null),t=this._data,n=wi([t,this._filter]).pipe(Ne(([s])=>this._filterData(s))),r=wi([n,i]).pipe(Ne(([s])=>this._orderData(s))),o=wi([r,e]).pipe(Ne(([s])=>this._pageData(s)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=o.subscribe(s=>this._renderData.next(s));}_filterData(i){return this.filteredData=this.filter==null||this.filter===""?i:i.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData;}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i;}_pageData(i){if(!this.paginator)return i;let e=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(e,e+this.paginator.pageSize);}_updatePaginator(i){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=i,e.pageIndex>0)){let t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next());}});}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData;}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null;}};var Xe=function(a){return a.login="login",a.register="register",a.configure="configure",a.busses="busses",a.specifications="specifications",a.slaves="slaves",a.specification="specification",a;}(Xe||{}),On=function(a){return a[a.intervall=0]="intervall",a[a.trigger=1]="trigger",a[a.intervallAndTrigger=2]="intervallAndTrigger",a[a.noPoll=3]="noPoll",a;}(On||{});function Wi(a){if(a.baudrate){var i=a;return"RTU: "+i.serialport+"("+i.baudrate+") t: "+i.timeout;}else{var i=a;return"TCP: "+i.host+":"+i.port+" t: "+(i.timeout?i.timeout:100);}}function Yr(a){var i=a.connectionData.serialport;if(i)return i;var e=a.connectionData.host+":"+a.connectionData.port;return e;}var Ds=function(a){var i=typeof Symbol=="function"&&Symbol.iterator,e=i&&a[i],t=0;if(e)return e.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a};}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.");},St=function(){function a(i,e,t){this.busid=i,this.slave=e,this.mqttBaseTopic=t;}return a.prototype.getStateTopic=function(){return this.getBaseTopic()+"/state/";},a.prototype.hasRootTopic=function(){return this.slave.rootTopic!=null;},a.prototype.getBaseTopic=function(){return this.hasRootTopic()?this.mqttBaseTopic+"/"+this.slave.rootTopic:this.mqttBaseTopic+"/"+this.busid+"s"+this.slave.slaveid;},a.prototype.getTriggerPollTopic=function(){return this.getBaseTopic()+"/triggerPoll/";},a.prototype.getEntityCommandTopic=function(i){var e=void 0,t=void 0;if(i&&!i.readonly)return e=this.getBaseTopic()+"/"+i.mqttname+"/set/",i.converter.name=="select"&&(t=this.getBaseTopic()+"/"+i.mqttname+"/set/modbus/"),{entityId:i.id,commandTopic:e||"error",modbusCommandTopic:t||void 0};},a.prototype.getEntityCommandTopicFilter=function(){return this.getBaseTopic()+"/+/set/#";},a.prototype.getNoDiscoverEntities=function(){return this.slave.noDiscoverEntities?this.slave.noDiscoverEntities:[];},a.prototype.getNoDiscovery=function(){return this.slave.noDiscovery==null?!1:this.slave.noDiscovery;},a.prototype.getCommandTopic=function(){var i,e=void 0,t=void 0;if(!((i=this.getSpecification())===null||i===void 0)&&i.entities.find(function(n){return!n.readonly;}))return e=this.getBaseTopic()+"/set/",e;},a.prototype.getEntityFromCommandTopic=function(i){var e=void 0,t=void 0,n=this.getBaseTopic().length,r=i.indexOf("/",n+1),o=i.substring(n+1,r>=0?r:void 0),s=o.split("/");if(s.length>0&&this.slave.specification&&this.slave.specification.entities)return this.slave.specification.entities.find(function(l){return l.mqttname==s[0];});},a.prototype.getAvailabilityTopic=function(){return this.getBaseTopic()+"/availability/";},a.prototype.getStatePayload=function(i,e){var t,n;e===void 0&&(e=null);var r={};try{for(var o=Ds(i),s=o.next();!s.done;s=o.next()){var l=s.value;l.mqttname!=null&&l.mqttname.length>0&&l.variableConfiguration==null&&(r[l.mqttname]=l.mqttValue!=null?l.mqttValue:e,l.converter.name=="select"&&(r.modbusValues==null&&(r.modbusValues={}),l.modbusValue!=null&&l.modbusValue.length>0&&(r.modbusValues[l.mqttname]=l.modbusValue[0])));}}catch(d){t={error:d};}finally{try{s&&!s.done&&(n=o.return)&&n.call(o);}finally{if(t)throw t.error;}}return JSON.stringify(r,null,"	");},a.prototype.getBusId=function(){return this.busid;},a.prototype.getSlaveId=function(){return this.slave.slaveid;},a.prototype.getName=function(){return this.slave.name;},a.prototype.getQos=function(){return this.slave.qos;},a.prototype.getPollMode=function(){return this.slave.pollMode;},a.compareSlaves=function(i,e){var t=i.busid-e.busid;return t||(t=i.slave.slaveid-e.slave.slaveid),t;},a.prototype.getKey=function(){return this.busid+"s"+this.slave.slaveid;},a.prototype.getSpecification=function(){if(this.slave&&this.slave.specification&&this.slave.specification.entities)return this.slave.specification;},a.prototype.setSpecification=function(i){this.slave&&(this.slave.specification=i);},a.prototype.getSpecificationId=function(){if(this.slave&&this.slave.specificationid)return this.slave.specificationid;},a.prototype.clone=function(){return new a(this.busid,structuredClone(this.slave),this.mqttBaseTopic);},a;}();var bu=function(){function a(i,e){this.slaveid=i,e?this.modbusErrors=e:this.modbusErrors={errors:[],totalErrorCount:0,errorsSinceLastSuccessful:0,lastErrorTime:0,allEntitiesFailed:!1,lastAllEntitiesFailedTime:0,lastSuccessfulIdentifiedTime:0,notIdentifiedEntities:[],lastAllEntitiesFailedSinceLastSuccessful:0,lastIdentifiedSinceLastSuccessful:0};}return a.getModbusErrors=function(i){var e=[];return i.entities.forEach(function(t){t.modbusError&&e.push({entityId:t.id,message:t.modbusError});}),e;},a.prototype.setErrors=function(i){var e=a.getModbusErrors(i),t=Date.now();e.length>0?(e.length>0&&this.modbusErrors.errorsSinceLastSuccessful++,this.modbusErrors.lastErrorTime=t,this.modbusErrors.errors=e,this.modbusErrors.allEntitiesFailed=e.length==i.entities.length,this.modbusErrors.allEntitiesFailed&&(this.modbusErrors.lastAllEntitiesFailedSinceLastSuccessful++,this.modbusErrors.lastAllEntitiesFailedTime=t),this.modbusErrors.totalErrorCount++):(this.modbusErrors.lastAllEntitiesFailedSinceLastSuccessful=0,this.modbusErrors.allEntitiesFailed=!1,this.modbusErrors.errorsSinceLastSuccessful=0,this.modbusErrors.errors=[]),i.identified?(this.modbusErrors.lastSuccessfulIdentifiedTime=t,this.modbusErrors.lastIdentifiedSinceLastSuccessful=0):(this.modbusErrors.lastIdentifiedSinceLastSuccessful++,this.modbusErrors.notIdentifiedEntities=e.map(function(n){return n.entityId;}));},a.prototype.get=function(){return this.modbusErrors;},a;}();var zn=["*"];function Ms(a,i){a&1&&it(0);}var Is=["tabListContainer"],ks=["tabList"],As=["tabListInner"],Ps=["nextPaginator"],Fs=["previousPaginator"],Rs=a=>({animationDuration:a}),Ns=(a,i)=>({value:a,params:i});function Os(a,i){}var Ls=["tabBodyWrapper"],Bs=["tabHeader"];function Vs(a,i){}function zs(a,i){if(a&1&&E(0,Vs,0,0,"ng-template",12),a&2){let e=f().$implicit;h("cdkPortalOutlet",e.templateLabel);}}function js(a,i){if(a&1&&p(0),a&2){let e=f().$implicit;q(e.textLabel);}}function qs(a,i){if(a&1){let e=B();c(0,"div",7,2),w("click",function(){let n=y(e),r=n.$implicit,o=n.$index,s=f(),l=yt(1);return C(s._handleClick(r,l,o));})("cdkFocusChange",function(n){let r=y(e).$index,o=f();return C(o._tabFocusChanged(n,r));}),R(2,"span",8)(3,"div",9),c(4,"span",10)(5,"span",11),E(6,zs,1,1,null,12)(7,js,1,1),m()()();}if(a&2){let e=i.$implicit,t=i.$index,n=yt(1),r=f();pe(e.labelClass),le("mdc-tab--active",r.selectedIndex===t),h("id",r._getTabLabelId(t))("disabled",e.disabled)("fitInkBarToContent",r.fitInkBarToContent),ie("tabIndex",r._getTabIndex(t))("aria-posinset",t+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(t))("aria-selected",r.selectedIndex===t)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),u(3),h("matRippleTrigger",n)("matRippleDisabled",e.disabled||r.disableRipple),u(3),si(e.templateLabel?6:7);}}function Qs(a,i){a&1&&it(0);}function Hs(a,i){if(a&1){let e=B();c(0,"mat-tab-body",13),w("_onCentered",function(){y(e);let n=f();return C(n._removeTabBodyWrapperHeight());})("_onCentering",function(n){y(e);let r=f();return C(r._setTabBodyWrapperHeight(n));}),m();}if(a&2){let e=i.$implicit,t=i.$index,n=f();pe(e.bodyClass),le("mat-mdc-tab-body-active",n.selectedIndex===t),h("id",n._getTabContentId(t))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",n.animationDuration)("preserveContent",n.preserveContent),ie("tabindex",n.contentTabIndex!=null&&n.selectedIndex===t?n.contentTabIndex:null)("aria-labelledby",n._getTabLabelId(t))("aria-hidden",n.selectedIndex!==t);}}var Ks=new Q("MatTabContent"),Us=(()=>{class a{template=_(tt);constructor(){}static ɵfac=function(t){return new(t||a)();};static ɵdir=te({type:a,selectors:[["","matTabContent",""]],features:[$e([{provide:Ks,useExisting:a}])]});}return a;})(),$s=new Q("MatTabLabel"),Jr=new Q("MAT_TAB"),Gs=(()=>{class a extends ur{_closestTab=_(Jr,{optional:!0});static ɵfac=(()=>{let e;return function(n){return(e||(e=et(a)))(n||a);};})();static ɵdir=te({type:a,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[$e([{provide:$s,useExisting:a}]),ue]});}return a;})(),eo=new Q("MAT_TAB_GROUP"),jn=(()=>{class a{_viewContainerRef=_(Mi);_closestTabGroup=_(eo,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel;}set templateLabel(e){this._setTemplateLabelInput(e);}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;_contentPortal=null;get content(){return this._contentPortal;}_stateChanges=new j();position=null;origin=null;isActive=!1;constructor(){_(Fi).load(Oi);}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next();}ngOnDestroy(){this._stateChanges.complete();}ngOnInit(){this._contentPortal=new Bt(this._explicitContent||this._implicitContent,this._viewContainerRef);}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e);}static ɵfac=function(t){return new(t||a)();};static ɵcmp=F({type:a,selectors:[["mat-tab"]],contentQueries:function(t,n,r){if(t&1&&(Be(r,Gs,5),Be(r,Us,7,tt)),t&2){let o;O(o=L())&&(n.templateLabel=o.first),O(o=L())&&(n._explicitContent=o.first);}},viewQuery:function(t,n){if(t&1&&K(tt,7),t&2){let r;O(r=L())&&(n._implicitContent=r.first);}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",ne],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[$e([{provide:Jr,useExisting:a}]),we,_n],ngContentSelectors:zn,decls:1,vars:0,template:function(t,n){t&1&&(vt(),E(0,Ms,1,0,"ng-template"));},encapsulation:2});}return a;})(),Ln="mdc-tab-indicator--active",Xr="mdc-tab-indicator--no-transition",Bn=class{_items;_currentItem;constructor(i){this._items=i;}hide(){this._items.forEach(i=>i.deactivateInkBar()),this._currentItem=void 0;}alignToElement(i){let e=this._items.find(n=>n.elementRef.nativeElement===i),t=this._currentItem;if(e!==t&&(t?.deactivateInkBar(),e)){let n=t?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(n),this._currentItem=e;}}},Ws=(()=>{class a{_elementRef=_(re);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent;}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement());}activateInkBar(e){let t=this._elementRef.nativeElement;if(!e||!t.getBoundingClientRect||!this._inkBarContentElement){t.classList.add(Ln);return;}let n=t.getBoundingClientRect(),r=e.width/n.width,o=e.left-n.left;t.classList.add(Xr),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${r})`),t.getBoundingClientRect(),t.classList.remove(Xr),t.classList.add(Ln),this._inkBarContentElement.style.setProperty("transform","");}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Ln);}ngOnInit(){this._createInkBarElement();}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null;}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,t=this._inkBarElement=e.createElement("span"),n=this._inkBarContentElement=e.createElement("span");t.className="mdc-tab-indicator",n.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",t.appendChild(this._inkBarContentElement),this._appendInkBarElement();}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement);}static ɵfac=function(t){return new(t||a)();};static ɵdir=te({type:a,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",ne]},features:[we]});}return a;})();var to=(()=>{class a extends Ws{elementRef=_(re);disabled=!1;focus(){this.elementRef.nativeElement.focus();}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft;}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth;}static ɵfac=(()=>{let e;return function(n){return(e||(e=et(a)))(n||a);};})();static ɵdir=te({type:a,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,n){t&2&&(ie("aria-disabled",!!n.disabled),le("mat-mdc-tab-disabled",n.disabled));},inputs:{disabled:[2,"disabled","disabled",ne]},features:[we,ue]});}return a;})(),Zr=Ai({passive:!0}),Ys=650,Xs=100,Zs=(()=>{class a{_elementRef=_(re);_changeDetectorRef=_(Ve);_viewportRuler=_(fr);_dir=_(st,{optional:!0});_ngZone=_(Ue);_platform=_(ci);_animationMode=_(Le,{optional:!0});_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new j();_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new j();disablePagination=!1;get selectedIndex(){return this._selectedIndex;}set selectedIndex(e){let t=isNaN(e)?0:e;this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t));}_selectedIndex=0;selectFocusedIndex=new H();indexFocused=new H();_sharedResizeObserver=_(sr);_injector=_(Ke);constructor(){this._ngZone.runOutsideAngular(()=>{Ei(this._elementRef.nativeElement,"mouseleave").pipe(Oe(this._destroyed)).subscribe(()=>this._stopInterval());});}ngAfterViewInit(){Ei(this._previousPaginator.nativeElement,"touchstart",Zr).pipe(Oe(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before");}),Ei(this._nextPaginator.nativeElement,"touchstart",Zr).pipe(Oe(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after");});}ngAfterContentInit(){let e=this._dir?this._dir.change:Re("ltr"),t=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Ea(32),Oe(this._destroyed)),n=this._viewportRuler.change(150).pipe(Oe(this._destroyed)),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab();};this._keyManager=new Ri(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),Pt(r,{injector:this._injector}),_e(e,n,t,this._items.changes,this._itemsResized()).pipe(Oe(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r();});}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection());}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o);});}_itemsResized(){return typeof ResizeObserver!="function"?Ta:this._items.changes.pipe(Ce(this._items),ri(e=>new Si(t=>this._ngZone.runOutsideAngular(()=>{let n=new ResizeObserver(r=>t.next(r));return e.forEach(r=>n.observe(r.elementRef.nativeElement)),()=>{n.disconnect();};}))),Ma(1),He(e=>e.some(t=>t.contentRect.width>0&&t.contentRect.height>0)));}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck());}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete();}_handleKeydown(e){if(!ot(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let t=this._items.get(this.focusIndex);t&&!t.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));}break;default:this._keyManager.onKeydown(e);}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck();}));}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition();}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0;}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e);}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0;}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let t=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?t.scrollLeft=0:t.scrollLeft=t.scrollWidth-t.offsetWidth;}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr";}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,t=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(t)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0);}get scrollDistance(){return this._scrollDistance;}set scrollDistance(e){this._scrollTo(e);}_scrollHeader(e){let t=this._tabListContainer.nativeElement.offsetWidth,n=(e=="before"?-1:1)*t/3;return this._scrollTo(this._scrollDistance+n);}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e);}_scrollToLabel(e){if(this.disablePagination)return;let t=this._items?this._items.toArray()[e]:null;if(!t)return;let n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:o}=t.elementRef.nativeElement,s,l;this._getLayoutDirection()=="ltr"?(s=r,l=s+o):(l=this._tabListInner.nativeElement.offsetWidth-r,s=l-o);let d=this.scrollDistance,g=this.scrollDistance+n;s<d?this.scrollDistance-=d-s:l>g&&(this.scrollDistance+=Math.min(l-g,s-d));}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,t=this._elementRef.nativeElement.offsetWidth,n=e-t>=5;n||(this.scrollDistance=0),n!==this._showPaginationControls&&(this._showPaginationControls=n,this._changeDetectorRef.markForCheck());}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck());}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,t=this._tabListContainer.nativeElement.offsetWidth;return e-t||0;}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t?this._inkBar.alignToElement(t):this._inkBar.hide();}_stopInterval(){this._stopScrolling.next();}_handlePaginatorPress(e,t){t&&t.button!=null&&t.button!==0||(this._stopInterval(),wa(Ys,Xs).pipe(Oe(_e(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:n,distance:r}=this._scrollHeader(e);(r===0||r>=n)&&this._stopInterval();}));}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let t=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(t,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:t,distance:this._scrollDistance};}static ɵfac=function(t){return new(t||a)();};static ɵdir=te({type:a,inputs:{disablePagination:[2,"disablePagination","disablePagination",ne],selectedIndex:[2,"selectedIndex","selectedIndex",ki]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[we]});}return a;})(),Js=(()=>{class a extends Zs{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new Bn(this._items),super.ngAfterContentInit();}_itemSelected(e){e.preventDefault();}static ɵfac=(()=>{let e;return function(n){return(e||(e=et(a)))(n||a);};})();static ɵcmp=F({type:a,selectors:[["mat-tab-header"]],contentQueries:function(t,n,r){if(t&1&&Be(r,to,4),t&2){let o;O(o=L())&&(n._items=o);}},viewQuery:function(t,n){if(t&1&&(K(Is,7),K(ks,7),K(As,7),K(Ps,5),K(Fs,5)),t&2){let r;O(r=L())&&(n._tabListContainer=r.first),O(r=L())&&(n._tabList=r.first),O(r=L())&&(n._tabListInner=r.first),O(r=L())&&(n._nextPaginator=r.first),O(r=L())&&(n._previousPaginator=r.first);}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(t,n){t&2&&le("mat-mdc-tab-header-pagination-controls-enabled",n._showPaginationControls)("mat-mdc-tab-header-rtl",n._getLayoutDirection()=="rtl");},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",ne]},features:[we,ue],ngContentSelectors:zn,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(t,n){if(t&1){let r=B();vt(),c(0,"div",5,0),w("click",function(){return y(r),C(n._handlePaginatorClick("before"));})("mousedown",function(s){return y(r),C(n._handlePaginatorPress("before",s));})("touchend",function(){return y(r),C(n._stopInterval());}),R(2,"div",6),m(),c(3,"div",7,1),w("keydown",function(s){return y(r),C(n._handleKeydown(s));}),c(5,"div",8,2),w("cdkObserveContent",function(){return y(r),C(n._onContentChanges());}),c(7,"div",9,3),it(9),m()()(),c(10,"div",10,4),w("mousedown",function(s){return y(r),C(n._handlePaginatorPress("after",s));})("click",function(){return y(r),C(n._handlePaginatorClick("after"));})("touchend",function(){return y(r),C(n._stopInterval());}),R(12,"div",6),m();}t&2&&(le("mat-mdc-tab-header-pagination-disabled",n._disableScrollBefore),h("matRippleDisabled",n._disableScrollBefore||n.disableRipple),u(3),le("_mat-animation-noopable",n._animationMode==="NoopAnimations"),u(2),ie("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby||null),u(5),le("mat-mdc-tab-header-pagination-disabled",n._disableScrollAfter),h("matRippleDisabled",n._disableScrollAfter||n.disableRipple));},dependencies:[mi,tr],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}"],encapsulation:2});}return a;})(),el=new Q("MAT_TABS_CONFIG"),tl={translateTab:Ct("translateTab",[je("center, void, left-origin-center, right-origin-center",Z({transform:"none",visibility:"visible"})),je("left",Z({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),je("right",Z({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Ie("* => left, * => right, left => center, right => center",Me("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Ie("void => left-origin-center",[Z({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Me("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Ie("void => right-origin-center",[Z({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Me("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},il=(()=>{class a extends We{_host=_(io);_centeringSub=Fe.EMPTY;_leavingSub=Fe.EMPTY;constructor(){super();}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ce(this._host._isCenterPosition(this._host._position))).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content);}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach();});}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe();}static ɵfac=function(t){return new(t||a)();};static ɵdir=te({type:a,selectors:[["","matTabBodyHost",""]],features:[ue]});}return a;})(),io=(()=>{class a{_elementRef=_(re);_dir=_(st,{optional:!0});_positionIndex;_dirChangeSubscription=Fe.EMPTY;_position;_translateTabComplete=new j();_onCentering=new H();_beforeCentering=new H();_afterLeavingCenter=new H();_onCentered=new H(!0);_portalHost;_content;origin;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState();}constructor(){if(this._dir){let e=_(Ve);this._dirChangeSubscription=this._dir.change.subscribe(t=>{this._computePositionAnimationState(t),e.markForCheck();});}this._translateTabComplete.subscribe(e=>{this._isCenterPosition(e.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(e.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit();});}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin));}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete();}_onTranslateTabStarted(e){let t=this._isCenterPosition(e.toState);this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight);}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr";}_isCenterPosition(e){return e=="center"||e=="left-origin-center"||e=="right-origin-center";}_computePositionAnimationState(e=this._getLayoutDirection()){this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center";}_computePositionFromOrigin(e){let t=this._getLayoutDirection();return t=="ltr"&&e<=0||t=="rtl"&&e>0?"left-origin-center":"right-origin-center";}static ɵfac=function(t){return new(t||a)();};static ɵcmp=F({type:a,selectors:[["mat-tab-body"]],viewQuery:function(t,n){if(t&1&&K(We,5),t&2){let r;O(r=L())&&(n._portalHost=r.first);}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(t,n){if(t&1){let r=B();c(0,"div",1,0),w("@translateTab.start",function(s){return y(r),C(n._onTranslateTabStarted(s));})("@translateTab.done",function(s){return y(r),C(n._translateTabComplete.next(s));}),E(2,Os,0,0,"ng-template",2),m();}t&2&&h("@translateTab",Ba(3,Ns,n._position,Ii(1,Rs,n.animationDuration)));},dependencies:[il,hr],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[tl.translateTab]}});}return a;})(),nl=!0,no=(()=>{class a{_elementRef=_(re);_changeDetectorRef=_(Ve);_animationMode=_(Le,{optional:!0});_allTabs;_tabBodyWrapper;_tabHeader;_tabs=new Di();_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;_tabsSubscription=Fe.EMPTY;_tabLabelSubscription=Fe.EMPTY;color;get fitInkBarToContent(){return this._fitInkBarToContent;}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck();}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex;}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e;}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration;}set animationDuration(e){let t=e+"";this._animationDuration=/^\d+$/.test(t)?e+"ms":t;}_animationDuration;get contentTabIndex(){return this._contentTabIndex;}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e;}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor;}set backgroundColor(e){if(!nl)throw new Error("mat-tab-group background color must be set through the Sass theming API");let t=this._elementRef.nativeElement.classList;t.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&t.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e;}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new H();focusChange=new H();animationDone=new H();selectedTabChange=new H(!0);_groupId;_isServer=!_(ci).isBrowser;constructor(){let e=_(el,{optional:!0});this._groupId=_(Ge).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null;}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let t=this._selectedIndex==null;if(!t){this.selectedTabChange.emit(this._createChangeEvent(e));let n=this._tabBodyWrapper.nativeElement;n.style.minHeight=n.clientHeight+"px";}Promise.resolve().then(()=>{this._tabs.forEach((n,r)=>n.isActive=r===e),t||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="");});}this._tabs.forEach((t,n)=>{t.position=n-e,this._selectedIndex!=null&&t.position==0&&!t.origin&&(t.origin=e-this._selectedIndex);}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck());}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let t=this._tabs.toArray(),n;for(let r=0;r<t.length;r++)if(t[r].isActive){this._indexToSelect=this._selectedIndex=r,this._lastFocusedTabIndex=null,n=t[r];break;}!n&&t[e]&&Promise.resolve().then(()=>{t[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e));});}this._changeDetectorRef.markForCheck();});}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ce(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(t=>t._closestTabGroup===this||!t._closestTabGroup)),this._tabs.notifyOnChanges();});}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe();}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab();}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination();}focusTab(e){let t=this._tabHeader;t&&(t.focusIndex=e);}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e));}_createChangeEvent(e){let t=new Vn();return t.index=e,this._tabs&&this._tabs.length&&(t.tab=this._tabs.toArray()[e]),t;}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=_e(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck());}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0));}_getTabLabelId(e){return`${this._groupId}-label-${e}`;}_getTabContentId(e){return`${this._groupId}-content-${e}`;}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let t=this._tabBodyWrapper.nativeElement;t.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(t.style.height=e+"px");}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit();}_handleClick(e,t,n){t.focusIndex=n,e.disabled||(this.selectedIndex=n);}_getTabIndex(e){let t=this._lastFocusedTabIndex??this.selectedIndex;return e===t?0:-1;}_tabFocusChanged(e,t){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=t);}static ɵfac=function(t){return new(t||a)();};static ɵcmp=F({type:a,selectors:[["mat-tab-group"]],contentQueries:function(t,n,r){if(t&1&&Be(r,jn,5),t&2){let o;O(o=L())&&(n._allTabs=o);}},viewQuery:function(t,n){if(t&1&&(K(Ls,5),K(Bs,5)),t&2){let r;O(r=L())&&(n._tabBodyWrapper=r.first),O(r=L())&&(n._tabHeader=r.first);}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(t,n){t&2&&(ie("mat-align-tabs",n.alignTabs),pe("mat-"+(n.color||"primary")),Ra("--mat-tab-animation-duration",n.animationDuration),le("mat-mdc-tab-group-dynamic-height",n.dynamicHeight)("mat-mdc-tab-group-inverted-header",n.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",n.stretchTabs));},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",ne],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",ne],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",ne],selectedIndex:[2,"selectedIndex","selectedIndex",ki],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",ki],disablePagination:[2,"disablePagination","disablePagination",ne],disableRipple:[2,"disableRipple","disableRipple",ne],preserveContent:[2,"preserveContent","preserveContent",ne],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[$e([{provide:eo,useExisting:a}]),we],ngContentSelectors:zn,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(t,n){if(t&1){let r=B();vt(),c(0,"mat-tab-header",3,0),w("indexFocused",function(s){return y(r),C(n._focusChanged(s));})("selectFocusedIndex",function(s){return y(r),C(n.selectedIndex=s);}),vn(2,qs,8,17,"div",4,bn),m(),E(4,Qs,1,0),c(5,"div",5,1),vn(7,Hs,1,13,"mat-tab-body",6,bn),m();}t&2&&(h("selectedIndex",n.selectedIndex||0)("disableRipple",n.disableRipple)("disablePagination",n.disablePagination)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby),u(2),yn(n._tabs),u(2),si(n._isServer?4:-1),u(),le("_mat-animation-noopable",n._animationMode==="NoopAnimations"),u(2),yn(n._tabs));},dependencies:[Js,to,or,mi,We,io],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2});}return a;})(),Vn=class{index;tab;};var qn=class{_document;_textarea;constructor(i,e){this._document=e;let t=this._textarea=this._document.createElement("textarea"),n=t.style;n.position="fixed",n.top=n.opacity="0",n.left="-999em",t.setAttribute("aria-hidden","true"),t.value=i,t.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(t);}copy(){let i=this._textarea,e=!1;try{if(i){let t=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),e=this._document.execCommand("copy"),t&&t.focus();}}catch{}return e;}destroy(){let i=this._textarea;i&&(i.remove(),this._textarea=void 0);}},Yi=(()=>{class a{_document=_(at);constructor(){}copy(e){let t=this.beginCopy(e),n=t.copy();return t.destroy(),n;}beginCopy(e){return new qn(e,this._document);}static ɵfac=function(t){return new(t||a)();};static ɵprov=me({token:a,factory:a.ɵfac,providedIn:"root"});}return a;})();var al=["selectBaudRate"];function rl(a,i){if(a&1){let e=B();G(0),c(1,"button",22),w("click",function(){y(e);let n=f(2).index,r=f();return C(r.saveBus(n));}),c(2,"mat-icon"),p(3,"check_circle"),m()(),c(4,"button",23),w("click",function(){y(e);let n=f(2).index,r=f();return C(r.cancelBus(n));}),c(5,"mat-icon"),p(6,"cancel"),m()(),W();}if(a&2){let e=f(2).index,t=f();u(),h("disabled",!t.needsSaving(e)),u(3),h("disabled",!t.needsSaving(e));}}function ol(a,i){if(a&1){let e=B();G(0),c(1,"button",24),w("click",function(){y(e);let n=f(2).$implicit,r=f();return C(r.deleteBus(n));}),c(2,"mat-icon"),p(3,"delete"),m()(),c(4,"button",25),w("click",function(){y(e);let n=f(2).index,r=f();return C(r.listSlaves(n));}),c(5,"mat-icon"),p(6," list"),m()(),W();}if(a&2){let e=f(2).index,t=f();u(),h("disabled",t.needsSaving(e)),u(3),h("disabled",t.needsSaving(e));}}function sl(a,i){if(a&1&&(G(0),E(1,rl,7,2,"ng-container",11)(2,ol,7,2,"ng-container",11),W()),a&2){let e=f().index,t=f();u(),h("ngIf",t.needsSaving(e)),u(),h("ngIf",!t.needsSaving(e));}}function ll(a,i){if(a&1){let e=B();c(0,"button",27),w("click",function(){y(e);let n=f(2).index,r=f();return C(r.saveBus(n));}),c(1,"mat-icon"),p(2,"add_box"),m()();}if(a&2){let e=f(2).index,t=f();h("disabled",!t.needsSaving(e)||!t.addEnabled(e));}}function cl(a,i){if(a&1&&(G(0),E(1,ll,3,1,"button",26),W()),a&2){let e=f().$implicit;u(),h("ngIf",e==null);}}function dl(a,i){a&1&&(G(0),c(1,"mat-form-field")(2,"mat-label"),p(3,"Modbus Serial Device"),m(),R(4,"input",28,3),m(),W());}function ml(a,i){if(a&1&&(c(0,"mat-option",29),p(1),m()),a&2){let e=i.$implicit;h("value",e),u(),q(e);}}function ul(a,i){if(a&1&&(c(0,"mat-form-field")(1,"mat-label"),p(2,"Serial Port"),m(),c(3,"mat-select",28),E(4,ml,2,2,"mat-option",17),m()()),a&2){let e=f().$implicit,t=f();u(4),h("ngForOf",t.getSerialDevices(e));}}function pl(a,i){if(a&1&&(c(0,"mat-option",29),p(1),m()),a&2){let e=i.$implicit;h("value",e),u(),q(e);}}function hl(a,i){if(a&1){let e=B();G(0),c(1,"mat-card",8)(2,"mat-card-header")(3,"mat-card-title",9),w("click",function(){let n=y(e).index,r=f();return C(r.listSlaves(n));}),p(4),m(),c(5,"div",10),E(6,sl,3,2,"ng-container",11)(7,cl,2,1,"ng-container",11),m()(),c(8,"mat-card-content")(9,"mat-tab-group",12),w("selectedTabChange",function(n){let r=y(e).index,o=f();return C(o.selectedTypeChanged(n,r));}),c(10,"mat-tab",13)(11,"div",14)(12,"div"),E(13,dl,6,0,"ng-container",15)(14,ul,5,1,"ng-template",null,0,ja),m(),c(16,"div")(17,"mat-form-field")(18,"mat-label"),p(19,"Baud Rate"),m(),c(20,"mat-select",16),E(21,pl,2,2,"mat-option",17),m()()(),c(22,"div")(23,"mat-form-field")(24,"mat-label"),p(25,"Timeout"),m(),R(26,"input",18),m()()()(),c(27,"mat-tab",19)(28,"div",14)(29,"div")(30,"mat-form-field")(31,"mat-label"),p(32,"Host"),m(),R(33,"input",20,1),m()(),c(35,"div")(36,"mat-form-field")(37,"mat-label"),p(38,"Port"),m(),R(39,"input",21,2),m()(),c(41,"div")(42,"mat-form-field")(43,"mat-label"),p(44,"Timeout"),m(),R(45,"input",18),m()()()()()()(),W();}if(a&2){let e=i.$implicit,t=i.index,n=yt(15),r=f();u(),h("formGroup",r.getBusFormGroup(t)),u(3),q(r.getConnectionTitle(t)),u(2),h("ngIf",e!=null),u(),h("ngIf",e==null),u(2),h("selectedIndex",r.isRTU(t)?0:1),u(4),h("ngIf",r.getSerialDevices().length==0)("ngIfElse",n),u(8),h("ngForOf",r.baudRates);}}var ro=(()=>{class a{constructor(e,t,n,r,o){this._formBuilder=e,this.entityApiService=t,this.route=n,this.routes=r,this.clipBoard=o,this.displayedBusIdColumns=["select","busid","connectionData","deviceCount"],this.serialDevices=[],this.bussesFormArray=this._formBuilder.array([]),this.configureModbusFormGroup=this._formBuilder.group({bussesFormArray:this.bussesFormArray}),this.modbusIsRtu=[],this.busses=new Gi([]),this.bussesObservable=this.entityApiService.getBusses(),this.baudRates=[9600,11200,115700],this.selectedBaudRate=void 0,this.preselectedBusId=void 0,this.uniqueConnectionDataValidator=s=>this&&this.busses&&this.busses.data&&this.busses.data.find(l=>l.connectionData.serialport==s.value)?{unique:s.value}:null,this.serialValidator=s=>this.serialDevices.length==0&&(!s.value||s.value.length==0)?{"not empty":s.value}:null,this.serialDevicesValidator=s=>this.serialDevices.length>0&&(!s.value||s.value.length==0)?{"not empty":s.value}:null;}ngAfterViewInit(){this.entityApiService.getSerialDevices().subscribe(e=>{this.serialDevices=e,this.readBussesFromServer();}),this.paramSubscription=this.route.queryParams.subscribe(e=>{e.busid!=null&&(this.preselectedBusId=e.busid);});}ngOnDestroy(){this.paramSubscription.unsubscribe();}getConnectionName(e){return Wi(e.connectionData);}readBussesFromServer(){return new Promise(e=>{this.bussesObservable.subscribe(t=>{t.push(null),this.busses.data=t,this.bussesFormArray!=null&&(this.bussesFormArray.clear(),this.modbusIsRtu=[]);for(let n=0;n<t.length;n++)this.copyBus2Form(n);this.modbusIsRtu.push(!0),this.bussesFormArray.push(this.createConnectionDataFormGroup()),e();});});}copyBus2Form(e){if(this.busses.data.length>e&&this.busses.data[e]!=null){let t=this.busses.data[e],n=t.connectionData.serialport!=null,r=this.createConnectionDataFormGroup();if(this.bussesFormArray.at(e)!=null?r=this.bussesFormArray.at(e):(this.bussesFormArray.push(r),this.modbusIsRtu.push(n)),n){let o=t.connectionData.serialport,s=t.connectionData.baudrate,l=t.connectionData.timeout;this.getBusFormGroup(e).get(["rtu","serial"]).setValue(o);let g=r.get(["rtu","selectBaudRate"]);g&&g.setValue(s);let b=r.get(["rtu","timeout"]);b&&b.setValue(l);}else{let o=t.connectionData.host,s=t.connectionData.port,l=t.connectionData.timeout,d=r.get(["tcp","host"]);d&&d.setValue(o);let g=r.get(["tcp","port"]);g&&g.setValue(s);let b=r.get(["tcp","timeout"]);b&&b.setValue(l);}}}getBusFormGroup(e){let t=this.configureModbusFormGroup.get("bussesFormArray").at(e);return t??this.createConnectionDataFormGroup();}cancelBus(e){this.bussesFormArray.at(e).markAsUntouched(),this.copyBus2Form(e);}needsSaving(e){let t=this.bussesFormArray.at(e);return t==null||t.touched;}saveBus(e){return new Promise(t=>{let n=this.copyForm2Connection(e),r=this.busses.data[e]!=null?this.busses.data[e].busId:void 0;this.entityApiService.postBus(n,r).subscribe(o=>{r==null?this.readBussesFromServer():(t(o.busid),this.bussesFormArray.at(e).markAsUntouched());});});}copyForm2Connection(e){let t=null,n=null,r=null,o=null,s=null,l=this.bussesFormArray.at(e),d=this.busses.data[e]?this.busses.data[e].connectionData:{};return l&&(this.modbusIsRtu[e]?((t=l.get(["rtu","timeout"]))!=null&&(n=l.get(["rtu","selectBaudRate"]))!=null&&(s=l.get(["rtu","serial"]))!=null&&(d.baudrate=n.value,d.serialport=s.value,d.timeout=t.value),delete d.host,delete d.port):((r=l.get(["tcp","host"]))!=null&&(t=l.get(["tcp","timeout"]))!=null&&(o=l.get(["tcp","port"]))!=null&&(d.host=r.value,d.port=o.value,d.timeout=t.value),delete d.serialport,delete d.baudrate)),d;}stringCompare(e,t){return e===t;}getSerialDevices(e){let t=structuredClone(this.serialDevices),n;for(n=0;n<t.length;){let r=t[n];this.busses.data.findIndex(s=>s!=null&&s.connectionData.serialport&&s.connectionData.serialport==r&&(e==null||r!=e.connectionData.serialport))!=-1?t.splice(n,1):n++;}return t;}isRTU(e){return this.modbusIsRtu[e];}checkConfigRTU(){return!1;}createConnectionDataFormGroup(){return this._formBuilder.group({selectedBusTab:this._formBuilder.control(0),rtu:this._formBuilder.group({serial:[null,this.serialValidator],selectBaudRate:[9600,dt.required],timeout:[br,dt.required]}),tcp:this._formBuilder.group({host:["",dt.required],port:[502,dt.required],timeout:[100,dt.required]})});}hasRtuError(e){return this.configureModbusFormGroup.get("rtu").hasError(e);}addEnabled(e){let t=this.bussesFormArray.at(e);return t?this.isRTU(e)?t.get("rtu").valid:t.get("tcp").valid:!1;}copy2Serial(e,t){this.getBusFormGroup(e).get("serial").setValue(t.value);}getBusName(e){return e==null?"New":Yr(e);}deleteBus(e){(e.slaves.length==0||confirm("There is/are "+e.slaves.length+" slaves configured. Are you sure to delete it/them?"))&&this.entityApiService.deleteBus(e.busId).subscribe(()=>{this.readBussesFromServer();});}canDeleteRow(e){return e.slaves.length>0;}selectedTypeChanged(e,t){this.modbusIsRtu[t]=e.index==0;}getSerialFormControl(e){let t=this.getBusFormGroup(e),n=t.get(["rtu","serial"]);return n==null&&(n=t.get(["rtu","serialDeviceSelection"])),n;}getConnectionTitle(e){let t=this.getBusFormGroup(e);this.busses.data;let n;return this.modbusIsRtu[e]?n=this.getSerialFormControl(e):n=t.get(["tcp","host"]),n!=null&&n.value?n.value:"New";}isSelectedBaudRate(e){return this.selectedBaudRate!==void 0&&e==this.selectedBaudRate;}listSlaves(e){this.saveBus(e).then(t=>{this.readBussesFromServer().then(()=>{this.routes.navigate(["/slaves",t]);});});}static{this.ɵfac=function(t){return new(t||a)(N(mt),N(fe),N(Ft),N(he),N(Yi));};}static{this.ɵcmp=F({type:a,selectors:[["app-select-modbus"]],viewQuery:function(t,n){if(t&1&&K(al,5),t&2){let r;O(r=L())&&(n.selectBaudRate=r.first);}},inputs:{preselectedBusId:"preselectedBusId"},decls:6,vars:2,consts:[["supervisor",""],["host",""],["port",""],["serial",""],["novalidate","",3,"formGroup"],["formArrayName","bussesFormArray"],[1,"flexrows"],[4,"ngFor","ngForOf"],[3,"formGroup"],["matTooltip","List or Add Slaves",1,"clickable",3,"click"],[1,"card-header-buttons"],[4,"ngIf"],[3,"selectedTabChange","selectedIndex"],["label","RTU","formGroupName","rtu"],[1,"flexcolumns"],[4,"ngIf","ngIfElse"],["matInput","","formControlName","selectBaudRate"],[3,"value",4,"ngFor","ngForOf"],["type","number","matInput","","formControlName","timeout"],["label","TCP","formGroupName","tcp"],["matInput","","formControlName","host"],["matInput","","formControlName","port"],["mat-icon-button","","matTooltip","Save Changes","color","primary",1,"material-icons","app-toolbar-menu","save-button",3,"click","disabled"],["mat-icon-button","","matTooltip","Cancel Changes","color","warn",1,"material-icons","app-toolbar-menu","cancel-button",3,"click","disabled"],["mat-icon-button","","type","button","matTooltip","Delete","color","warn",1,"width100pt","material-icons","app-toolbar-menu","delete-button",3,"click","disabled"],["mat-icon-button","","type","submit","matTooltip","List or add Slaves","color","primary",1,"material-icons","app-toolbar-menu","delete-button",3,"click","disabled"],["mat-icon-button","","class","material-icons app-toolbar-menu cancel-button","matTooltip","Add Modbus Controller","color","primary",3,"disabled","click",4,"ngIf"],["mat-icon-button","","matTooltip","Add Modbus Controller","color","primary",1,"material-icons","app-toolbar-menu","cancel-button",3,"click","disabled"],["matInput","","formControlName","serial"],[3,"value"]],template:function(t,n){t&1&&(c(0,"h1"),p(1,"List of Modbus Controllers"),m(),c(2,"form",4),G(3,5),c(4,"div",6),E(5,hl,46,8,"ng-container",7),m(),W(),m()),t&2&&(u(2),h("formGroup",n.configureModbusFormGroup),u(3),h("ngForOf",n.busses.data));},dependencies:[Ut,Qt,zt,ji,jt,qt,$t,Ht,Kt,Sr,wr,rt,Gt,Xt,Wt,lt,xe,ct,Ee,Yt,no,jn,Lt,Ot,Zt,qi,Li],styles:[".mat-mdc-header-cell[_ngcontent-%COMP%]{border-bottom-style:none}mat-header-row.mat-mdc-header-row[_ngcontent-%COMP%]{border-bottom-style:solid;border-bottom-width:1px;border:1px solid #e7e7e7}.mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:none;display:flex;flex-direction:row}.mat-mdc-row[_ngcontent-%COMP%]{border:1px solid #e7e7e7}.field[_ngcontent-%COMP%]{height:20pt;max-height:20pt}.inline[_ngcontent-%COMP%]{display:inline-block}.invisible[_ngcontent-%COMP%]{display:block;visibility:hidden;height:0;width:0}.mat-mdc-card-header[_ngcontent-%COMP%]{font-weight:700;background-color:#ebebeb;display:flex}"]});}}return a;})();var oo=(()=>{class a{static ɵfac=function(t){return new(t||a)();};static ɵmod=Se({type:a});static ɵinj=Te({});}return a;})();var so=(()=>{class a{static ɵfac=function(t){return new(t||a)();};static ɵmod=Se({type:a});static ɵinj=Te({imports:[oo,di,di]});}return a;})();var lo=(()=>{class a{constructor(e){this.elementRef=e,e.nativeElement.classList.add("mat-small-icon-button");}}return a.ɵfac=function(e){return new(e||a)(N(re));},a.ɵdir=te({type:a,selectors:[["button","mat-small-icon-button",""]],standalone:!1}),a;})();var co=(()=>{class a{}return a.ɵfac=function(e){return new(e||a)();},a.ɵmod=Se({type:a}),a.ɵinj=Te({}),a;})();function bl(a,i){if(a&1&&(c(0,"dl")(1,"dt"),p(2),m()()),a&2){let e=i.$implicit;u(2),ce("",e," ");}}function vl(a,i){if(a&1&&(c(0,"dl"),E(1,bl,3,1,"dl",4),m()),a&2){let e=f();u(),h("ngForOf",e.getUniqueErrors());}}function yl(a,i){a&1&&(c(0,"div",0)(1,"mat-icon",5),p(2,"circle"),m(),c(3,"span"),p(4,"All entities failed"),m()());}var mo=(()=>{class a{constructor(e){this.entityApiService=e;}ngOnInit(){}getUniqueErrors(){return this.modbusErrors==null?[]:[...new Set(this.modbusErrors.errors.map(e=>e.message))];}static{this.ɵfac=function(t){return new(t||a)(N(fe));};}static{this.ɵcmp=F({type:a,selectors:[["app-modbus-error-component"]],inputs:{modbusErrors:"modbusErrors"},decls:24,vars:14,consts:[[1,"icon-text"],[1,"indent"],[4,"ngIf"],["class","icon-text",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"red"]],template:function(t,n){t&1&&(c(0,"div")(1,"div",0)(2,"mat-icon"),p(3,"circle"),m(),c(4,"span"),p(5),m()(),c(6,"div",1),E(7,vl,2,1,"dl",2),m(),c(8,"div",0)(9,"mat-icon"),p(10,"circle"),m(),c(11,"span"),p(12),m()(),c(13,"div",0)(14,"mat-icon"),p(15,"circle"),m(),c(16,"span"),p(17),m()(),E(18,yl,5,0,"div",3),c(19,"div",0)(20,"mat-icon"),p(21,"circle"),m(),c(22,"span"),p(23),m()()()),t&2&&(u(2),pe(n.modbusErrors?n.modbusErrors.errors.length>0?"red":"green":"yellow"),u(3),ce("Failed entities in last Modbus call: ",n.modbusErrors?n.modbusErrors.errors.length:"unknown",""),u(2),h("ngIf",n.modbusErrors),u(2),pe(n.modbusErrors?n.modbusErrors.totalErrorCount>0?"red":"green":"yellow"),u(3),ce("Errors since startup ",n.modbusErrors?n.modbusErrors.totalErrorCount:"unknown",""),u(2),pe(n.modbusErrors?n.modbusErrors.errorsSinceLastSuccessful>0?"red":"green":"yellow"),u(3),ce("Errors since last successful call ",n.modbusErrors?n.modbusErrors.errorsSinceLastSuccessful:"unknown",""),u(),h("ngIf",n.modbusErrors&&n.modbusErrors.allEntitiesFailed),u(2),pe(n.modbusErrors?n.modbusErrors.notIdentifiedEntities.length>0?"red":"green":"yellow"),u(3),ce("not identified entities: ",n.modbusErrors?n.modbusErrors.notIdentifiedEntities.length:"unknown",""));},dependencies:[Vi,Ee,xe,rt],styles:[".icon-text[_ngcontent-%COMP%]{align-items:center;display:flex}.red[_ngcontent-%COMP%]{color:red;transform:scale(.5)}.yellow[_ngcontent-%COMP%]{color:#ff0;transform:scale(.5)}.green[_ngcontent-%COMP%]{color:green;transform:scale(.5)}.indent[_ngcontent-%COMP%]{text-indent:4em}"]});}}return a;})();var Cl=["slavesBody"],Tl=()=>[0,2],uo=()=>[1,2];function Sl(a,i){if(a&1){let e=B();G(0),c(1,"button",23),w("click",function(){y(e);let n=f().$implicit,r=f();return C(r.saveSlave(n));}),c(2,"mat-icon"),p(3,"check_circle"),m()(),c(4,"button",24),w("click",function(){y(e);let n=f().$implicit,r=f();return C(r.cancelSlave(n));}),c(5,"mat-icon"),p(6,"cancel"),m()(),W();}if(a&2){let e=f().index,t=f();u(),h("disabled",!t.needsSaving(e)),u(3),h("disabled",!t.needsSaving(e));}}function wl(a,i){if(a&1){let e=B();c(0,"button",28),w("click",function(){y(e);let n=f(2).$implicit,r=f();return C(r.editSpecification(n.slave));}),c(1,"mat-icon"),p(2,"edit"),m()();}}function xl(a,i){if(a&1){let e=B();G(0),c(1,"button",25),w("click",function(){y(e);let n=f().$implicit,r=f();return C(r.deleteSlave(n.slave));}),c(2,"mat-icon"),p(3,"delete"),m()(),c(4,"button",26),w("click",function(){y(e);let n=f().$implicit,r=f();return C(r.addSpecification(n.slave));}),c(5,"mat-icon"),p(6,"add_box"),m()(),E(7,wl,3,0,"button",27),W();}if(a&2){let e=f().$implicit;u(7),h("ngIf",e.slave.specificationid!=null);}}function El(a,i){if(a&1&&(G(0),c(1,"mat-option",21)(2,"mat-icon",29),p(3),m(),c(4,"mat-icon",30),p(5),m(),p(6),m(),W()),a&2){let e=i.$implicit,t=f(3);u(),h("value",e),u(),h("matTooltip",t.statusTooltip(e?e.status:3)),u(),q(t.statusIcon(e?e.status:3)),u(),h("color",(e==null?null:e.identified)==1?"primary":"warn")("matTooltip",t.identifiedTooltip(e.identified)),u(),q(t.identifiedIcon(e.identified)),u(),ce(" ",e!==null?t.getSpecificationI18nName(e,t.currentLanguage):""," ");}}function Dl(a,i){if(a&1&&(G(0),E(1,El,7,7,"ng-container",5),W()),a&2){let e=i.ngIf;u(),h("ngForOf",e);}}function Ml(a,i){a&1&&(c(0,"mat-error"),p(1," Must be unique "),m());}function Il(a,i){a&1&&(c(0,"mat-form-field",17)(1,"mat-label"),p(2,"Poll Interval [ms]"),m(),R(3,"input",31),m());}function kl(a,i){if(a&1&&(c(0,"div",39),p(1,"Web Service Root: "),c(2,"strong"),p(3),m()()),a&2){let e=f(3);u(3),q(e.config.rootUrl);}}function Al(a,i){a&1&&(c(0,"mat-slide-toggle",40),p(1,"Show REST API Url instead of MQTT Topics"),m());}function Pl(a,i){a&1&&(c(0,"h2"),p(1,"Trigger Poll Topic"),m());}function Fl(a,i){if(a&1){let e=B();c(0,"div"),p(1),c(2,"button",37),w("click",function(){y(e);let n=f(2).$implicit,r=f();return C(r.copy2Clipboard(r.getTriggerPollTopic(n)));}),c(3,"mat-icon"),p(4,"content_copy"),m()()();}if(a&2){let e=f(2).$implicit,t=f();u(),ce(" ",t.getTriggerPollTopic(e),"");}}function Rl(a,i){a&1&&(c(0,"dd"),p(1,".../set/modbus/ "),m());}function Nl(a,i){if(a&1){let e=B();G(0),c(1,"dt"),p(2),m(),c(3,"dd"),p(4),c(5,"button",41),w("click",function(){let n=y(e).$implicit,r=f(2).$implicit,o=f();return C(o.copy2Clipboard(o.getCommandTopic(r,n)));}),c(6,"mat-icon"),p(7,"content_copy"),m()()(),E(8,Rl,2,0,"dd",15),W();}if(a&2){let e=i.$implicit,t=f(2).$implicit,n=f();u(2),ce(" ",n.getSpecEntityName(t.slave,e.entityId),""),u(2),ce("",n.getCommandTopic(t,e)," "),u(4),h("ngIf",n.getModbusCommandTopic(t,e)!="");}}function Ol(a,i){if(a&1){let e=B();c(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),p(3," MQTT Topics "),m()(),c(4,"h2"),p(5,"Quality of Service"),m(),c(6,"mat-form-field",32)(7,"mat-label"),p(8,"Quality of Service"),m(),c(9,"mat-select",33)(10,"mat-option",21),p(11,"Auto"),m(),c(12,"mat-option",21),p(13,"1 - at least once"),m(),c(14,"mat-option",21),p(15,"2 - exactly once"),m()()(),c(16,"h2"),p(17,"Root Topic"),m(),c(18,"mat-form-field",17)(19,"mat-label"),p(20,"Root Topic Name"),m(),c(21,"input",34),w("change",function(){y(e);let n=f().$implicit,r=f();return C(r.onRootTopicChange(n));}),m()(),c(22,"h2"),p(23,"State Topic"),m(),E(24,kl,4,1,"div",35)(25,Al,2,0,"mat-slide-toggle",36),c(26,"div"),p(27),c(28,"button",37),w("click",function(){y(e);let n=f().$implicit,r=f();return C(r.copy2Clipboard(r.getStateTopic(n)));}),c(29,"mat-icon"),p(30,"content_copy"),m()()(),c(31,"h2"),p(32,"State Payload Example"),m(),c(33,"textarea",38),p(34),m(),E(35,Pl,2,0,"h2",15)(36,Fl,5,1,"div",15),c(37,"h2"),p(38,"Command Topics"),m(),c(39,"dl"),E(40,Nl,9,3,"ng-container",5),m()();}if(a&2){let e=f().$implicit,t=f();u(10),h("value",-1),u(2),h("value",1),u(2),h("value",2),u(10),h("ngIf",t.config.rootUrl!=null),u(),h("ngIf",t.config.rootUrl!=null),u(2),ce(" ",t.getStateTopic(e),""),u(7),ce("                      ",t.getStatePayload(e),`
                    `),u(),h("ngIf",nt(10,uo).includes(e.slaveForm.get("pollMode").value)),u(),h("ngIf",nt(11,uo).includes(e.slaveForm.get("pollMode").value)),u(4),h("ngForOf",e.commandEntities);}}function Ll(a,i){if(a&1&&(c(0,"mat-list-option",21),p(1),m()),a&2){let e=i.$implicit;h("value",e.id),u(),q(e.name);}}function Bl(a,i){if(a&1){let e=B();c(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),p(3," MQTT Discovery Filter "),m()(),c(4,"mat-slide-toggle",42),w("toggleChange",function(){y(e);let n=f().$implicit,r=f();return C(r.disableDiscoverEntitiesList(n));}),p(5),R(6,"br"),p(7,"Click to toggle"),m(),c(8,"h2"),p(9,"Deselect to exclude from Discovery"),m(),c(10,"mat-selection-list",43,1),E(12,Ll,2,2,"mat-list-option",44),m()();}if(a&2){let e=f().$implicit,t=f();u(5),q(t.getNoDiscoveryText(e)),u(7),h("ngForOf",e.selectedEntitites);}}function Vl(a,i){if(a&1){let e=B();G(0),c(1,"mat-card",6)(2,"form",7),w("keydown.enter",function(n){let r=y(e).$implicit,o=f();return C(o.keyDown(n,r.slaveForm));}),c(3,"mat-card-header")(4,"mat-card-title",14),w("click",function(){let n=y(e).$implicit,r=f();return C(r.editSpecification(n.slave));}),p(5),m(),c(6,"div",9),E(7,Sl,7,2,"ng-container",15)(8,xl,8,1,"ng-container",15),m()(),c(9,"mat-card-content")(10,"mat-form-field")(11,"mat-label"),p(12,"Specification"),m(),c(13,"mat-select",16),w("selectionChange",function(){let n=y(e).$implicit,r=f();return C(r.onSpecificationChange(n));}),E(14,Dl,2,1,"ng-container",15),Va(15,"async"),m()(),c(16,"mat-expansion-panel")(17,"mat-expansion-panel-header")(18,"mat-panel-title"),p(19," Slave Settings "),m()(),c(20,"mat-form-field",17)(21,"mat-label"),p(22,"Slave Name"),m(),R(23,"input",18),E(24,Ml,2,0,"mat-error",15),m(),E(25,Il,4,0,"mat-form-field",19),c(26,"mat-form-field",17)(27,"mat-label"),p(28,"Poll Mode"),m(),c(29,"mat-select",20)(30,"mat-option",21),p(31,"Interval"),m(),c(32,"mat-option",21),p(33,"Interval and Triggger"),m(),c(34,"mat-option",21),p(35,"Trigger only"),m(),c(36,"mat-option",21),p(37,"No polling"),m()()()(),E(38,Ol,41,12,"mat-expansion-panel",15)(39,Bl,13,2,"mat-expansion-panel",15),c(40,"mat-expansion-panel")(41,"mat-expansion-panel-header")(42,"mat-panel-title"),p(43,"Modbus Status &Errors "),m()(),R(44,"app-modbus-error-component",22),m()()()(),W();}if(a&2){let e=i.$implicit,t=i.index,n=f();u(2),h("formGroup",e.slaveForm),u(3),q(e.label),u(2),h("ngIf",n.needsSaving(t)),u(),h("ngIf",!n.needsSaving(t)),u(5),h("compareWith",n.compareSpecificationIdentification),u(),h("ngIf",za(15,16,e.specsObservable)),u(9),h("errorStateMatcher",n.errorStateMatcher),u(),h("ngIf",e.slaveForm.get("name").hasError("duplicates")!=null),u(),h("ngIf",nt(18,Tl).includes(e.slaveForm.get("pollMode").value)),u(5),h("value",0),u(2),h("value",2),u(2),h("value",1),u(2),h("value",3),u(2),h("ngIf",e.slave.specificationid),u(),h("ngIf",e.slave.specificationid),u(5),h("modbusErrors",n.getModbusErrors(e));}}var po=(()=>{class a extends qe{getDetectSpecToolTip(){return this.slaveNewForm.get("detectSpec")?.value==!0?"If there is exactly one specification matching to the modbus data for this slave, the specification will be selected automatically":"Please set the specification for the new slave after adding it";}keyDown(e,t){e.target.name=="slaveId"&&this.addSlave(t),e.preventDefault();}getSpecIcon(){throw new Error("Method not implemented.");}constructor(e,t,n,r,o){super(),this._formBuilder=e,this.route=t,this.entityApiService=n,this.routes=r,this.clipboard=o,this.showAllPublicSpecs=new Cr(!1),this.uiSlaves=[],this.slaves=[],this.slaveNewForm=this._formBuilder.group({slaveId:[null],detectSpec:[!0]}),this.errorStateMatcher=new Ir(),this.entitiesAccessor=s=>s.entities??[],this.hasChild=(s,l)=>!!l.entities&&l.entities.length>0,this.preselectedSlaveId=void 0,this.slaveidEventEmitter=new H(),this.uniqueNameValidator=(s,l)=>this.hasDuplicateName(s,l.value)?{duplicates:l.value}:null;}ngOnInit(){this.entityApiService.getConfiguration().subscribe(e=>{this.config=e,this.currentLanguage=yr(navigator.language),this.paramsSubscription=this.route.params.subscribe(t=>{let n=+t.busid;this.entityApiService.getBus(n).subscribe(r=>{this.bus=r,this.bus&&(this.busname=Wi(this.bus.connectionData),this.updateSlaves(r));});});});}fillSpecs(e,t,n,r){let o=t.slaveForm.get(["ispecs"]),s=r.find(g=>g.configuredSlave!=null);s&&(n.specification=this.toSpecification(s));let l=0,d=null;return e&&(s||(r.forEach(g=>{g.identified==vr.identified&&(l++,d=g);}),l==1&&d!=null&&(n.specificationid=d.filename,o.setValue(d)))),o.setValue(s),r;}updateSlaves(e,t){this.entityApiService.getSlaves(this.bus.busId).subscribe(n=>{this.uiSlaves=[],n.forEach(r=>{this.uiSlaves.push(this.getUiSlave(r,t));}),this.generateSlavesArray();});}generateSlavesArray(){this.slaves=[],this.uiSlaves.forEach(e=>{this.slaves.push(e.slave);});}onRootTopicChange(e){let t={};if(!e.specs)return t;if(!e.slave||e.slave.specification==null)return{};let n=e.slave,r;if(e&&e.specs&&(r=e.specs.find(o=>o.filename==n.specificationid)),!r)return{};if(r){let o=e.slaveForm.get("rootTopic").value;o&&(e.slave.rootTopic=o),this.fillCommandTopics(e,r),e.slaveForm.updateValueAndValidity();let s=[];this.uiSlaves.forEach(l=>{l.slave.slaveid==e.slave.slaveid?s.push(e):s.push(l);}),this.uiSlaves=s;}}fillCommandTopics(e,t){let n=new St(this.bus.busId,e.slave,this.config.mqttbasetopic);e.commandEntities=[],t&&t.entities.forEach(r=>{let o=n.getEntityCommandTopic(r);o&&(o.commandTopic=this.getRootUrl(e.slaveForm)+o.commandTopic,e.commandEntities.push(r));});}getStateTopic(e){return new St(this.bus.busId,e.slave,this.config.mqttbasetopic).getStateTopic();}getStatePayload(e){let t=new St(this.bus.busId,e.slave,this.config.mqttbasetopic),n=t.getSpecification();return n?t.getStatePayload(n.entities,""):"";}getTriggerPollTopic(e){return new St(this.bus.busId,e.slave,this.config.mqttbasetopic).getTriggerPollTopic();}getCommandTopic(e,t){let r=new St(this.bus.busId,e.slave,this.config.mqttbasetopic).getEntityCommandTopic(t);return r?r.commandTopic:"";}getModbusCommandTopic(e,t){let r=new St(this.bus.busId,e.slave,this.config.mqttbasetopic).getEntityCommandTopic(t);return r&&r.modbusCommandTopic?r.modbusCommandTopic:"";}getSpecs(e,t,n){return this.entityApiService.getSpecsForSlave(this.bus.busId,e.slaveid,this.showAllPublicSpecs.value).pipe(Ne(r=>(n.specs=r,this.fillSpecs.bind(this)(t,n,e,r))));}getUiSlave(e,t){let n=this.initiateSlaveControl(e,null),r={slave:e,label:this.getSlaveName(e),slaveForm:n,selectedEntitites:this.getSelectedEntites(e)};return r.specsObservable=this.getSpecs(e,t,r),this.fillCommandTopics(r,e.specification),r;}updateUiSlaves(e,t){let n=this.uiSlaves.findIndex(r=>r.slave.slaveid==e.slaveid);n>=0?this.uiSlaves[n]=this.getUiSlave(e,t):this.uiSlaves.push(this.getUiSlave(e,t));}updateUiSlaveData(e){let t=this.uiSlaves.findIndex(n=>n.slave.slaveid==e.slaveid);t>=0&&(this.uiSlaves[t].slave=e,this.uiSlaves[t].label=this.getSlaveName(e));}ngOnDestroy(){this.paramsSubscription.unsubscribe();}showUnmatched(){this.showAllPublicSpecs.value,this.updateSlaves(this.bus,!1);}compareSpecificationIdentification(e,t){return e&&t&&e.filename==t.filename;}identifiedTooltip(e){return!e||e==-1?"no identification possible":e==1?"known device":"unknown device";}identifiedIcon(e){return!e||e==-1?"thumbs_up_down":e==1?"thumb_up":"thumb_down";}toSpecification(e){if(e)return{filename:e.filename,i18n:e.i18n,status:e.status,files:e.files,entities:e.entities,identified:e.identified};}onSpecificationChange(e){let t=e.slaveForm.get("ispecs").value;e.slave!=null&&(t==null?(delete e.slave.specification,delete e.slave.specificationid):(e.slave.specification=this.toSpecification(t),e.slave.specificationid=t.filename,e.slave.noDiscoverEntities=[],e.selectedEntitites=this.getSelectedEntites(e.slave),e.slaveForm.get("discoverEntitiesList").setValue(this.buildDiscoverEntityList(e.slave)),e.slaveForm.get("noDiscovery").setValue(e.slave.noDiscovery)));}buildDiscoverEntityList(e){let t=[];return e&&e.specification&&e.specification.entities&&e.specification.entities.forEach(n=>{(e.noDiscoverEntities==null||!e.noDiscoverEntities.includes(n.id))&&t.push(n.id);}),t;}slave2Form(e,t){t.get("name").setValue(e.name?e.name:null),t.get("pollInterval").setValue([e.pollInterval?e.pollInterval:1e3]),t.get("pollMode").setValue(e.pollMode==null?On.intervall:e.pollMode),t.get("qos").setValue(e.qos?e.qos:-1),t.get("noDiscovery").setValue(e.noDiscovery?e.noDiscovery:!1),t.get("discoverEntitiesList").setValue(this.buildDiscoverEntityList(e)),e.noDiscovery?t.get("discoverEntitiesList").disable():t.get("discoverEntitiesList").enable();}initiateSlaveControl(e,t){if(e.slaveid>=0){let n=this._formBuilder.group({hiddenSlaveId:[e.slaveid],ispecs:[t],name:[e.name],pollInterval:[e.pollInterval],pollMode:[e.pollMode],qos:[e.qos],rootTopic:[e.rootTopic],showUrl:[!1],noDiscovery:[!1],discoverEntitiesList:[[]]});return this.slave2Form(e,n),n;}else return this._formBuilder.group({slaveId:[null],ispecs:[t]});}hasDuplicateName(e,t){let n=!1;if(!t){let r=this.uiSlaves.find(o=>o!=null&&o.slave.slaveid==e);r&&r.slave.specificationid&&(t=r.slave.specificationid);}return this.uiSlaves.forEach(r=>{r!=null&&r.slave.slaveid!=e&&(r.slave.name?r.slave.name:r.slave.specificationid)==t&&(n=!0);}),n;}getRootUrl(e){return this.config.rootUrl&&e.get("showUrl").value?this.config.rootUrl:"";}deleteSlave(e){e!=null&&this.bus&&this.entityApiService.deleteSlave(this.bus.busId,e.slaveid).subscribe(()=>{let t=this.uiSlaves.findIndex(n=>n.slave.slaveid==e.slaveid);t>=0&&(this.uiSlaves.splice(t,1),this.updateSlaves(this.bus,!1));});}getSlaveIdFromForm(e){let t="";return e&&(t=e.get("slaveId").value),t!=null&&parseInt(t)>=0?parseInt(t):-1;}canAddSlaveId(e){let t=this.getSlaveIdFromForm(e);return t>=0&&this.uiSlaves.find(n=>n!=null&&n.slave.slaveid!=null&&n.slave.slaveid==t)==null;}addSlave(e){let t=this.getSlaveIdFromForm(e),n=e.get(["detectSpec"])?.value;this.canAddSlaveId(e)&&this.entityApiService.postSlave(this.bus.busId,{slaveid:t}).subscribe(()=>{this.updateSlaves(this.bus,n);});}static form2SlaveSetValue(e,t){let n=e.slaveForm.get(t).value;e.slave[t]=n??void 0;}static slave2FormSetValue(e,t){e.slaveForm.get(t).setValue(e.slave[t]);let n=e.slaveForm.get(["ispecs"]);if(e.specs){let r=e.specs.find(o=>o.configuredSlave!=null);r&&n.setValue(r);}}static{this.controllers=["name","rootTopic","pollInterval","pollMode","qos","noDiscovery"];}saveSlave(e){a.controllers.forEach(r=>{a.form2SlaveSetValue(e,r);});let t=e.slaveForm.get("ispecs").value,n=e.slaveForm.get("discoverEntitiesList").value;t&&(e.slave.specification=this.toSpecification(t),e.slave.specificationid=t.filename,e.slave.noDiscoverEntities=[],n&&t.entities.forEach(r=>{n.includes(r.id)||e.slave.noDiscoverEntities.push(r.id);})),this.bus&&this.entityApiService.postSlave(this.bus.busId,e.slave).subscribe(r=>{this.updateUiSlaves(r,!1);});}cancelSlave(e){if(e.slaveForm.reset(),a.controllers.forEach(t=>{e.slaveForm.get(t).setValue(e.slave[t]);}),e.specs){let t=e.specs.find(n=>n.configuredSlave!=null);e.slaveForm.get("ispecs").setValue(t);}this.slave2Form(e.slave,e.slaveForm);}getSpecificationI18nName(e,t){return ui(e,t);}statusTooltip(e){switch(e){case 1:return"Cloned: This specifications was copied from a published one";case 2:return"Added: This  was created newly";case 0:return"Published: You can copy the published specification to make your changes";case 4:return"Contributed: Readonly until the contributions process is finished";case 3:return"New: Create a new specification.";default:return"unknown";}}statusIcon(e){switch(e){case 1:return"file_copy";case 2:return"add";case 0:return"public";case 4:return"contributed";case 3:return"new_releases";default:return"unknown";}}addSpecification(e){this.bus&&(e.specification=void 0,e.specificationid=void 0,this.editSpecification(e));}editSpecification(e){this.bus&&this.entityApiService.postSlave(this.bus.busId,e).subscribe(()=>{this.routes.navigate(["/specification",this.bus.busId,e.slaveid,!1]);});}getSlaveName(e){return e==null?"New":e.name?e.name+"("+e.slaveid+")":e.specification?ui(e.specification,this.currentLanguage)+"("+e.slaveid+")":"Slave "+e.slaveid;}getSpecEntityName(e,t){let n="--";return e!=null&&e.specification&&(n=xn(e.specification,this.currentLanguage,t)),n||"";}copy2Clipboard(e){this.clipboard.copy(e);}getSelectedEntites(e){let t=[];return e&&e.specification&&e.specification.entities&&e.specification.entities.forEach(n=>{let r=xn(e.specification,this.currentLanguage,n.id);t.push({id:n.id,name:r||""});}),t;}needsSaving(e){let t=this.uiSlaves[e].slaveForm;return t==null||t.touched;}getNoDiscoveryText(e){return e.slaveForm.get("noDiscovery").value?"Discovery is disabled for the complete slave.":"Discovery is enabled for the complete slave.";}disableDiscoverEntitiesList(e,t){e.slaveForm.get("noDiscovery").value?e.slaveForm.get("discoverEntitiesList").enable():e.slaveForm.get("discoverEntitiesList").disable();}getModbusErrors(e){return e.slave.modbusErrorsForSlave;}static{this.ɵfac=function(t){return new(t||a)(N(mt),N(Ft),N(fe),N(he),N(Yi));};}static{this.ɵcmp=F({type:a,selectors:[["app-select-slave"]],viewQuery:function(t,n){if(t&1&&K(Cl,5),t&2){let r;O(r=L())&&(n.slavesBody=r.first);}},outputs:{slaveidEventEmitter:"slaveidEventEmitter"},features:[ue],decls:24,vars:5,consts:[["slavesBody",""],["noDiscovery",""],[1,"flexcolumns"],["matTooltip","Unhides unmatiching specification in the specification selection list",1,"width50",3,"toggleChange","formControl"],[1,"flexrows"],[4,"ngFor","ngForOf"],[1,"width550pt","card"],[3,"keydown.enter","formGroup"],[1,"clickable"],[1,"card-header-buttons"],["mat-icon-button","","matTooltip","Add Modbus Slave","color","primary","type","submit",1,"material-icons","app-toolbar-menu","cancel-button",3,"click","disabled"],[1,"field","width150pt"],["matInput","","name","slaveId","formControlName","slaveId","type","number"],["formControlName","detectSpec",1,"width50",3,"matTooltip"],["matTooltip","Edit Specification",1,"clickable",3,"click"],[4,"ngIf"],["matInput","","formControlName","ispecs",3,"selectionChange","compareWith"],[1,"width150pt"],["matInput","","matTooltipClass","tooltip-class","matTooltip",`Optional: Sets a name for the device

                  The specification name is used if the name is not specified.
                  
                  Set the name if there are multiple devices with the same specification to have unique device names
                  
                  The name is also shown in the header of this card`,"formControlName","name",3,"errorStateMatcher"],["class","width150pt",4,"ngIf"],["matInput","","formControlName","pollMode"],[3,"value"],[3,"modbusErrors"],["mat-icon-button","","matTooltip","Save Changes","color","primary",1,"material-icons","app-toolbar-menu","save-button",3,"click","disabled"],["mat-icon-button","","matTooltip","Cancel Changes","color","warn",1,"material-icons","app-toolbar-menu","cancel-button",3,"click","disabled"],["mat-icon-button","","matTooltip","Delete","color","warn",1,"material-icons","app-toolbar-menu","delete-button",3,"click"],["mat-icon-button","","matTooltip","Add New Specification","color","primary",1,"material-icons","app-toolbar-menu","delete-button",3,"click"],["mat-icon-button","","class","material-icons app-toolbar-menu delete-button","matTooltip","Edit Specification","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","matTooltip","Edit Specification","color","primary",1,"material-icons","app-toolbar-menu","delete-button",3,"click"],[3,"matTooltip"],[3,"color","matTooltip"],["matInput","","formControlName","pollInterval","type","number","placeholder","1000"],[1,"width200pt"],["matTooltipClass","tooltip-class","formControlName","qos","matTooltip",`Optional: 
                      
                      Auto: If the slave has only read only entities, Quality of Service is not set
                      
                      1 - at least once: Every publication of states or subscription to this slave will at be transfered at least one time
                      
                      2 - exactly once:Every publication of states or subscription to this slave will at be transfered exactly one time`],["matInput","","matTooltipClass","tooltip-class","formControlName","rootTopic","matTooltip",`Optional: 
                      
                      Sets the first part of the MQTT state and command topics. 
                      
                      E.g. a root topic "heatpump" will generate a state topic "heatpump/state" all command topics will be named "heatpump/set/<mqtt name of entity>"
                      command topics for modbus values will be name "heatpump/modbus/<mqttname>"
                        
                      It is in the responsibility of the user to make sure, that there are no duplicates in MQTT topic names`,3,"change"],["matTooltip","Use this URL inside of Home Assistant Addons (E.g.Nodered)",4,"ngIf"],["class","width50","formControlName","showUrl","matTooltip","Use this URL inside of Home Assistant Addons (E.g.Nodered)",4,"ngIf"],["mat-icon-button","","mat-small-icon-button","","matTooltip","Copy to Clipboard","color","primary",1,"material-icons","app-toolbar-menu","save-button",3,"click"],["id","w3review","name","w3review","rows","10","cols","20"],["matTooltip","Use this URL inside of Home Assistant Addons (E.g.Nodered)"],["formControlName","showUrl","matTooltip","Use this URL inside of Home Assistant Addons (E.g.Nodered)",1,"width50"],["mat-icon-button","","mat-small-icon-button","","color","primary",1,"material-icons","app-toolbar-menu","save-button",3,"click"],["formControlName","noDiscovery",1,"width550",3,"toggleChange"],["formControlName","discoverEntitiesList"],[3,"value",4,"ngFor","ngForOf"]],template:function(t,n){if(t&1){let r=B();c(0,"div",null,0)(2,"div",2)(3,"p")(4,"mat-slide-toggle",3),w("toggleChange",function(){return y(r),C(n.showUnmatched());}),p(5,"Show all public specifications"),m()(),c(6,"div",4),E(7,Vl,45,19,"ng-container",5),c(8,"mat-card",6)(9,"form",7),w("keydown.enter",function(s){return y(r),C(n.keyDown(s,n.slaveNewForm));}),c(10,"mat-card-header")(11,"mat-card-title",8),p(12,"New Slave"),m(),c(13,"div",9)(14,"button",10),w("click",function(){return y(r),C(n.addSlave(n.slaveNewForm));}),c(15,"mat-icon"),p(16,"add_box"),m()()()(),c(17,"mat-card-content")(18,"mat-form-field",11)(19,"mat-label"),p(20,"Slave Id"),m(),R(21,"input",12),m(),c(22,"mat-slide-toggle",13),p(23,"Enable Specification matching."),m()()()()()()();}t&2&&(u(4),h("formControl",n.showAllPublicSpecs),u(3),h("ngForOf",n.uiSlaves),u(2),h("formGroup",n.slaveNewForm),u(5),h("disabled",!n.slaveNewForm.valid||n.getSlaveIdFromForm(n.slaveNewForm)==-1||!n.canAddSlaveId(n.slaveNewForm)),u(8),h("matTooltip",n.getDetectSpecToolTip()));},dependencies:[mo,Fr,lt,Ut,Qt,zt,ji,jt,qt,$t,Tr,Ht,Kt,rt,Gt,Xt,Wt,ct,so,Vi,Ee,co,lo,_r,xe,Yt,Lt,Ot,Mr,Dr,Er,qi,Li,kr,Ar,Pr,Zt,Bi,Qa],styles:[".mat-mdc-card-header[_ngcontent-%COMP%]{font-weight:700;background-color:#c7f0ba;display:flex;min-height:4em;padding-top:1em}.mat-mdc-card-title[_ngcontent-%COMP%]{left:1em;top:2em;position:absolute}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-inline-start:10px;margin-block-start:0px;margin-block-end:0px;margin-top:2px;margin-bottom:2px;padding-top:2px;padding-bottom:2px}"]});}}return a;})();var ho=(()=>{class a{constructor(e,t){this.api=e,this.router=t;}ngAfterViewInit(){this.api.getUserAuthenticationStatus().subscribe(e=>{this.redirect(e);});}redirect(e){if(!e.mqttConfigured&&!e.hassiotoken){this.router.navigate(["/configure"]);return;}if(e.preSelectedBusId){this.router.navigate(["/slaves",e.preSelectedBusId]);return;}this.router.navigate(["busses"]);}static{this.ɵfac=function(t){return new(t||a)(N(fe),N(he));};}static{this.ɵcmp=F({type:a,selectors:[["app-root-routing"]],decls:0,vars:0,template:function(t,n){},encapsulation:2});}}return a;})();function zl(a,i){if(a&1&&(G(0),c(1,"div",1)(2,"p"),p(3),m()(),W()),a&2){let e=f();u(3),ce(" ",e.currentDisplay,"!");}}var Xi=1250,fo=(()=>{class a{constructor(){this.messages=[],this.currentDisplay="",this.showInfoBox=!1,this.newAnimationState="close",this.intervalTimer=void 0,this.messageSubscription=void 0;}ngOnInit(){this.messageSubscription=this.message.subscribe(e=>{this.messages.push({endOfLive:Date.now()+2*Xi+1e3,message:e}),this.messages.length>0?this.intervalTimer==null&&(this.intervalTimer=setInterval(()=>{this.currentDisplay="";let t=Date.now();for(;this.messages.length&&this.messages[0].endOfLive<t;)this.messages.shift();var n=this.messages.find(r=>r.endOfLive-t>Xi);n?this.newAnimationState="open":this.newAnimationState="close",this.messages.length==0?(clearInterval(this.intervalTimer),this.intervalTimer=void 0):(this.showInfoBox=!0,this.messages.forEach(r=>{this.currentDisplay=this.currentDisplay+r.message+`
`;}));},100)):this.intervalTimer!=null&&(clearInterval(this.intervalTimer),this.intervalTimer=void 0);});}ngOnDestroy(){this.intervalTimer&&clearInterval(this.intervalTimer),this.messageSubscription&&this.messageSubscription.unsubscribe(),this.intervalTimer=void 0,this.messageSubscription=void 0;}onAnimationEvent(e){console.warn(`Animation Trigger: ${e.triggerName}`),console.warn(`Phase: ${e.phaseName}`),console.warn(`Total time: ${e.totalTime}`),console.warn(`From: ${e.fromState}`),console.warn(`To: ${e.toState}`),console.warn(`Element: ${e.element}`);}captureDoneEvent(e){e.toState=="close"&&(this.showInfoBox=!1);}static{this.ɵfac=function(t){return new(t||a)();};}static{this.ɵcmp=F({type:a,selectors:[["app-infobox"]],hostVars:1,hostBindings:function(t,n){t&1&&La("@showMessage.done",function(o){return n.captureDoneEvent(o);}),t&2&&Na("@showMessage",n.newAnimationState);},inputs:{message:"message"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"open-close-container"]],template:function(t,n){t&1&&E(0,zl,4,1,"ng-container",0),t&2&&h("ngIf",n.showInfoBox);},dependencies:[xe],styles:["[_nghost-%COMP%]{display:block;margin-top:1rem}.open-close-container[_ngcontent-%COMP%]{border:1px solid #dddddd;position:absolute;top:5%;left:66%;z-index:10;font-weight:700;font-size:20px;background-color:#fff}"],data:{animation:[Ct("showMessage",[je("open",Z({opacity:1})),je("close",Z({height:"20px",opacity:.1})),Ie("open => close",[Me((Xi/1e3).toFixed(1)+"s")]),Ie("close => open",[Me((Xi/1e3).toFixed(1)+"s")])])]}});}}return a;})();var jl=a=>({waitCursor:a}),ql=()=>[0,4],go=()=>[0];function Ql(a,i){if(a&1&&(c(0,"a",21),p(1,"View Pull Request on Github"),m()),a&2){let e=f().$implicit;h("href",e.pullUrl,oi);}}function Hl(a,i){if(a&1&&(c(0,"div")(1,"p",22),p(2),m()()),a&2){let e=i.$implicit,t=f().$implicit,n=f();u(2),q(n.getValidationMessage(t,e));}}function Kl(a,i){if(a&1){let e=B();G(0),c(1,"mat-card",12)(2,"mat-card-header")(3,"mat-card-title",13)(4,"mat-icon",14),p(5),m(),p(6),m(),c(7,"div",15)(8,"button",16),w("click",function(){let n=y(e).$implicit,r=f();return C(r.deleteSpecification(n));}),c(9,"mat-icon"),p(10,"delete"),m()()()(),c(11,"mat-card-content"),R(12,"img",17),c(13,"div",14)(14,"button",18),w("click",function(){let n=y(e).$implicit,r=f();return C(r.contributeSpecification(n));}),p(15," Contribute "),m()(),c(16,"a",19),p(17,"Download"),m(),c(18,"p"),E(19,Ql,2,1,"a",20),m(),E(20,Hl,3,1,"div",11),m()(),W();}if(a&2){let e=i.$implicit,t=f();u(4),h("matTooltip",t.getStatusText(e.status)),u(),q(t.getStatusIcon(e.status)),u(),q(t.getTranslatedSpecName(e)),u(2),h("matTooltip",e.status==1?"Restore public version":"Delete")("disabled",nt(11,ql).includes(e.status)),u(4),h("src",t.getImage(e.filename),oi),u(),h("matTooltip",nt(12,go).includes(e.status)?"is public":e.messages.length?"has messages":t.config.githubPersonalToken==null?"configure github access token first":"Press to contribute to the public"),u(),h("disabled",nt(13,go).includes(e.status)||e.messages.length>0||t.config.githubPersonalToken==null),u(2),h("href",t.generateDownloadLink(e.filename),oi),u(3),h("ngIf",e.pullUrl!=null),u(),h("ngForOf",e.messages);}}var _o=(()=>{class a{constructor(e,t,n){this.apiService=e,this.fb=t,this.router=n,this.authStatus=void 0,this.message=new j(),this.contributing=!1;}fillSpecifications(e){let t={};this.galleryItems=new Map(),e.forEach(n=>{let r=this.apiService.getForSpecificationValidation(n.filename,this.config.mqttdiscoverylanguage);t[n.filename]=r,this.generateImageGalleryItems(n);}),Sa(t).subscribe(n=>{Object.entries(n).forEach(([r,o])=>{let s=e.find(l=>l.filename==r);s&&(s.messages=o);}),this.specifications=e;});}ngOnInit(){this.apiService.getConfiguration().subscribe(e=>{this.config=e,this.apiService.getUserAuthenticationStatus().subscribe(t=>{this.authStatus=t,this.specServices=new Qi(e.mqttdiscoverylanguage,this.apiService),this.apiService.getSpecifications().subscribe(this.fillSpecifications.bind(this));});});}importSpecification(){throw new Error("Method not implemented.");}exportSpecification(e){throw new Error("Method not implemented.");}deleteSpecification(e){[2,3,1].includes(e.status)?confirm("Are you sure to delete "+this.getTranslatedSpecName(e))&&this.apiService.deleteSpecification(e.filename).subscribe(()=>{this.apiService.getSpecifications().subscribe(this.fillSpecifications.bind(this)),alert(this.getTranslatedSpecName(e)+" has been deleted");}):alert(this.getTranslatedSpecName(e)+" is not local. Only local specifications can be deleted");}getTranslatedSpecName(e){return this.config&&this.config.mqttdiscoverylanguage&&e?ui(e,this.config.mqttdiscoverylanguage):null;}contributeSpecification(e){this.contributing=!0,this.apiService.postSpecificationContribution(e.filename,"My test note").pipe(xa(t=>(this.contributing=!1,this.apiService.errorHandler(t),new Si()))).subscribe(t=>{this.apiService.getSpecifications().subscribe(this.fillSpecifications.bind(this)),this.message.next("Successfully contributed. Created pull Request #"+t),this.contributing=!1;});}canContribute(e){if(!![0,4].includes(e.status)){let n=new j();return setTimeout(()=>{n.next(!1);},1),n.pipe(Da());}return this.apiService.getForSpecificationValidation(e.filename,this.config.mqttdiscoverylanguage).pipe(Ne(n=>n.length==0));}getValidationMessage(e,t){return this.specServices?this.specServices.getValidationMessage(e,t):"unknown message";}getStatusIcon(e){return Qi.getStatusIcon(e);}getStatusText(e){return Qi.getStatusText(e);}fetchPublic(){this.apiService.getSpecificationFetchPublic().subscribe(()=>{this.ngOnInit(),this.message.next("Public directory updated");});}generateImageGalleryItems(e){let t=[];e.files.forEach(n=>{n.usage=="img"&&t.push(new Rr({src:n.url,thumb:n.url}));}),this.galleryItems.set(e.filename,t);}getImage(e){let t=this.galleryItems.get(e);return t&&t.length>0&&t[0].data&&t[0].data.src?t[0].data.src:"";}onZipDropped(e){var t=new FormData();Array.prototype.forEach.call(e,n=>{t.append("zips",n,n.name);}),this.apiService.postZip(t).subscribe(n=>{let r="Specification imported";n.warnings&&(r=r+`

`+n.warnings),this.message.next(r);});}zipBrowseHandler(e){e&&e.files!==null&&this.onZipDropped(e.files);}generateDownloadLink(e){let t="download/"+e;if(!this.authStatus||this.authStatus.hassiotoken==null){let n=new qe().getAuthToken();if(n)return n+"/"+t;}return t;}static{this.ɵfac=function(t){return new(t||a)(N(fe),N(mt),N(he));};}static{this.ɵcmp=F({type:a,selectors:[["app-specifications"]],decls:19,vars:6,consts:()=>{let e;return e="Specification Files",[["zipFiles",""],e,[3,"message"],[1,"flexrows"],[1,"width250pt","card"],["dragndropDirective","",1,"border",3,"fileDropped"],["type","file","id","zipFiles","multiple","","matTooltip","Test","hidden","",1,"downloadLabel",3,"change"],["for","zipFiles","dragndropDirective","",1,"downloadLabel",3,"fileDropped"],["mat-button","",1,"width150pt","downloadLink",3,"click"],["download","",1,"downloadLink",3,"href"],[3,"ngClass"],[4,"ngFor","ngForOf"],[1,"width350pt","card"],["matTooltip","Contribute Specification",1,"width200pt"],[3,"matTooltip"],[1,"card-header-buttons"],["mat-icon-button","","color","warn",1,"material-icons","app-toolbar-menu","delete-button",3,"click","matTooltip","disabled"],[1,"marginsall",3,"src"],["mat-button","",1,"width200pt",3,"click","disabled"],["download","",3,"href"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],[1,"message","errorTextNoBlink"]];},template:function(t,n){if(t&1){let r=B();c(0,"div"),R(1,"app-infobox",2),c(2,"div",3)(3,"mat-card",4)(4,"mat-card-header")(5,"mat-card-title"),p(6,"Functions"),m()(),c(7,"mat-card-content")(8,"div",5),w("fileDropped",function(s){return y(r),C(n.onZipDropped(s));}),c(9,"input",6,0),w("change",function(s){return y(r),C(n.zipBrowseHandler(s.target));}),m(),c(11,"label",7),w("fileDropped",function(s){return y(r),C(n.onZipDropped(s));}),Oa(12,1),m()(),c(13,"button",8),w("click",function(){return y(r),C(n.fetchPublic());}),p(14," Update Public Specifications "),m(),c(15,"a",9),p(16,"Download Local Settings"),m()()(),c(17,"div",10),E(18,Kl,21,14,"ng-container",11),m()()();}t&2&&(u(),h("message",n.message),u(14),h("href",n.generateDownloadLink("local"),oi),u(2),h("ngClass",Ii(4,jl,n.contributing)),u(),h("ngForOf",n.specifications));},dependencies:[Gt,Xt,Wt,Yt,Vt,rt,lt,Ee,ct,xe,qa,fo],styles:[".mat-mdc-card-header[_ngcontent-%COMP%]{font-weight:700;background-color:#ebdffa;display:flex;height:45pt}.mdc-button__label[_ngcontent-%COMP%]{text-align:left;align-items:left}img[_ngcontent-%COMP%]{height:auto;width:200pt;max-height:500pt}"]});}}return a;})();var bo=[{path:"",component:ho,pathMatch:"full"},{path:Xe.login,component:Nn},{path:Xe.register,component:Nn},{path:Xe.configure,loadComponent:()=>import("./chunk-CYHXZIM5.js").then(a=>a.ConfigureComponent),canActivate:[ut]},{path:Xe.busses,component:ro,canActivate:[ut]},{path:Xe.specifications,component:_o,canActivate:[ut]},{path:Xe.slaves+"/:busid",component:po,canActivate:[ut]},{path:Xe.specification+"/:busid/:slaveid/:disabled",canActivate:[ut],loadComponent:()=>import("./chunk-WCUHHHQQ.js").then(a=>a.SpecificationComponent),canDeactivate:[a=>!a.canDeactivate()]}];function vo(a){return new P(3e3,!1);}function Ul(){return new P(3100,!1);}function $l(){return new P(3101,!1);}function Gl(a){return new P(3001,!1);}function Wl(a){return new P(3003,!1);}function Yl(a){return new P(3004,!1);}function Xl(a,i){return new P(3005,!1);}function Zl(){return new P(3006,!1);}function Jl(){return new P(3007,!1);}function ec(a,i){return new P(3008,!1);}function tc(a){return new P(3002,!1);}function ic(a,i,e,t,n){return new P(3010,!1);}function nc(){return new P(3011,!1);}function ac(){return new P(3012,!1);}function rc(){return new P(3200,!1);}function oc(){return new P(3202,!1);}function sc(){return new P(3013,!1);}function lc(a){return new P(3014,!1);}function cc(a){return new P(3015,!1);}function dc(a){return new P(3016,!1);}function mc(a,i){return new P(3404,!1);}function uc(a){return new P(3502,!1);}function pc(a){return new P(3503,!1);}function hc(){return new P(3300,!1);}function fc(a){return new P(3504,!1);}function gc(a){return new P(3301,!1);}function _c(a,i){return new P(3302,!1);}function bc(a){return new P(3303,!1);}function vc(a,i){return new P(3400,!1);}function yc(a){return new P(3401,!1);}function Cc(a){return new P(3402,!1);}function Tc(a,i){return new P(3505,!1);}function ht(a){switch(a.length){case 0:return new Nt();case 1:return a[0];default:return new Tn(a);}}function Fo(a,i,e=new Map(),t=new Map()){let n=[],r=[],o=-1,s=null;if(i.forEach(l=>{let d=l.get("offset"),g=d==o,b=g&&s||new Map();l.forEach((I,D)=>{let T=D,M=I;if(D!=="offset")switch(T=a.normalizePropertyName(T,n),M){case Ni:M=e.get(D);break;case ze:M=t.get(D);break;default:M=a.normalizeStyleValue(D,T,M,n);break;}b.set(T,M);}),g||r.push(b),s=b,o=d;}),n.length)throw uc(n);return r;}function da(a,i,e,t){switch(i){case"start":a.onStart(()=>t(e&&Qn(e,"start",a)));break;case"done":a.onDone(()=>t(e&&Qn(e,"done",a)));break;case"destroy":a.onDestroy(()=>t(e&&Qn(e,"destroy",a)));break;}}function Qn(a,i,e){let t=e.totalTime,n=!!e.disabled,r=ma(a.element,a.triggerName,a.fromState,a.toState,i||a.phaseName,t??a.totalTime,n),o=a._data;return o!=null&&(r._data=o),r;}function ma(a,i,e,t,n="",r=0,o){return{element:a,triggerName:i,fromState:e,toState:t,phaseName:n,totalTime:r,disabled:!!o};}function ve(a,i,e){let t=a.get(i);return t||a.set(i,t=e),t;}function yo(a){let i=a.indexOf(":"),e=a.substring(1,i),t=a.slice(i+1);return[e,t];}var Sc=typeof document>"u"?null:document.documentElement;function ua(a){let i=a.parentNode||a.host||null;return i===Sc?null:i;}function wc(a){return a.substring(1,6)=="ebkit";}var wt=null,Co=!1;function xc(a){wt||(wt=Ec()||{},Co=wt.style?"WebkitAppearance"in wt.style:!1);let i=!0;return wt.style&&!wc(a)&&(i=a in wt.style,!i&&Co&&(i="Webkit"+a.charAt(0).toUpperCase()+a.slice(1)in wt.style)),i;}function Ec(){return typeof document<"u"?document.body:null;}function Ro(a,i){for(;i;){if(i===a)return!0;i=ua(i);}return!1;}function No(a,i,e){if(e)return Array.from(a.querySelectorAll(i));let t=a.querySelector(i);return t?[t]:[];}var pa=(()=>{class a{validateStyleProperty(e){return xc(e);}containsElement(e,t){return Ro(e,t);}getParentElement(e){return ua(e);}query(e,t,n){return No(e,t,n);}computeStyle(e,t,n){return n||"";}animate(e,t,n,r,o,s=[],l){return new Nt(n,r);}static ɵfac=function(t){return new(t||a)();};static ɵprov=me({token:a,factory:a.ɵfac});}return a;})(),Dt=class{static NOOP=new pa();},Mt=class{};var Dc=1e3,Oo="{{",Mc="}}",Lo="ng-enter",Wn="ng-leave",Zi="ng-trigger",an=".ng-trigger",To="ng-animating",Yn=".ng-animating";function Ze(a){if(typeof a=="number")return a;let i=a.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Xn(parseFloat(i[1]),i[2]);}function Xn(a,i){switch(i){case"s":return a*Dc;default:return a;}}function rn(a,i,e){return a.hasOwnProperty("duration")?a:Ic(a,i,e);}function Ic(a,i,e){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,r=0,o="";if(typeof a=="string"){let s=a.match(t);if(s===null)return i.push(vo(a)),{duration:0,delay:0,easing:""};n=Xn(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(r=Xn(parseFloat(l),s[4]));let d=s[5];d&&(o=d);}else n=a;if(!e){let s=!1,l=i.length;n<0&&(i.push(Ul()),s=!0),r<0&&(i.push($l()),s=!0),s&&i.splice(l,0,vo(a));}return{duration:n,delay:r,easing:o};}function kc(a){return a.length?a[0]instanceof Map?a:a.map(i=>new Map(Object.entries(i))):[];}function Qe(a,i,e){i.forEach((t,n)=>{let r=ha(n);e&&!e.has(n)&&e.set(n,a.style[r]),a.style[r]=t;});}function Et(a,i){i.forEach((e,t)=>{let n=ha(t);a.style[n]="";});}function gi(a){return Array.isArray(a)?a.length==1?a[0]:lr(a):a;}function Ac(a,i,e){let t=i.params||{},n=Bo(a);n.length&&n.forEach(r=>{t.hasOwnProperty(r)||e.push(Gl(r));});}var Zn=new RegExp(`${Oo}\\s*(.+?)\\s*${Mc}`,"g");function Bo(a){let i=[];if(typeof a=="string"){let e;for(;e=Zn.exec(a);)i.push(e[1]);Zn.lastIndex=0;}return i;}function bi(a,i,e){let t=`${a}`,n=t.replace(Zn,(r,o)=>{let s=i[o];return s==null&&(e.push(Wl(o)),s=""),s.toString();});return n==t?a:n;}var Pc=/-+([a-z0-9])/g;function ha(a){return a.replace(Pc,(...i)=>i[1].toUpperCase());}function Fc(a,i){return a===0||i===0;}function Rc(a,i,e){if(e.size&&i.length){let t=i[0],n=[];if(e.forEach((r,o)=>{t.has(o)||n.push(o),t.set(o,r);}),n.length)for(let r=1;r<i.length;r++){let o=i[r];n.forEach(s=>o.set(s,fa(a,s)));}}return i;}function be(a,i,e){switch(i.type){case k.Trigger:return a.visitTrigger(i,e);case k.State:return a.visitState(i,e);case k.Transition:return a.visitTransition(i,e);case k.Sequence:return a.visitSequence(i,e);case k.Group:return a.visitGroup(i,e);case k.Animate:return a.visitAnimate(i,e);case k.Keyframes:return a.visitKeyframes(i,e);case k.Style:return a.visitStyle(i,e);case k.Reference:return a.visitReference(i,e);case k.AnimateChild:return a.visitAnimateChild(i,e);case k.AnimateRef:return a.visitAnimateRef(i,e);case k.Query:return a.visitQuery(i,e);case k.Stagger:return a.visitStagger(i,e);default:throw Yl(i.type);}}function fa(a,i){return window.getComputedStyle(a)[i];}var Nc=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),on=class extends Mt{normalizePropertyName(i,e){return ha(i);}normalizeStyleValue(i,e,t,n){let r="",o=t.toString().trim();if(Nc.has(e)&&t!==0&&t!=="0")if(typeof t=="number")r="px";else{let s=t.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&n.push(Xl(i,t));}return o+r;}};var sn="*";function Oc(a,i){let e=[];return typeof a=="string"?a.split(/\s*,\s*/).forEach(t=>Lc(t,e,i)):e.push(a),e;}function Lc(a,i,e){if(a[0]==":"){let l=Bc(a,e);if(typeof l=="function"){i.push(l);return;}a=l;}let t=a.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return e.push(cc(a)),i;let n=t[1],r=t[2],o=t[3];i.push(So(n,o));let s=n==sn&&o==sn;r[0]=="<"&&!s&&i.push(So(o,n));}function Bc(a,i){switch(a){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return i.push(dc(a)),"* => *";}}var Ji=new Set(["true","1"]),en=new Set(["false","0"]);function So(a,i){let e=Ji.has(a)||en.has(a),t=Ji.has(i)||en.has(i);return(n,r)=>{let o=a==sn||a==n,s=i==sn||i==r;return!o&&e&&typeof n=="boolean"&&(o=n?Ji.has(a):en.has(a)),!s&&t&&typeof r=="boolean"&&(s=r?Ji.has(i):en.has(i)),o&&s;};}var Vo=":self",Vc=new RegExp(`s*${Vo}s*,?`,"g");function zo(a,i,e,t){return new Jn(a).build(i,e,t);}var wo="",Jn=class{_driver;constructor(i){this._driver=i;}build(i,e,t){let n=new ea(e);return this._resetContextStyleTimingState(n),be(this,gi(i),n);}_resetContextStyleTimingState(i){i.currentQuerySelector=wo,i.collectedStyles=new Map(),i.collectedStyles.set(wo,new Map()),i.currentTime=0;}visitTrigger(i,e){let t=e.queryCount=0,n=e.depCount=0,r=[],o=[];return i.name.charAt(0)=="@"&&e.errors.push(Zl()),i.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==k.State){let l=s,d=l.name;d.toString().split(/\s*,\s*/).forEach(g=>{l.name=g,r.push(this.visitState(l,e));}),l.name=d;}else if(s.type==k.Transition){let l=this.visitTransition(s,e);t+=l.queryCount,n+=l.depCount,o.push(l);}else e.errors.push(Jl());}),{type:k.Trigger,name:i.name,states:r,transitions:o,queryCount:t,depCount:n,options:null};}visitState(i,e){let t=this.visitStyle(i.styles,e),n=i.options&&i.options.params||null;if(t.containsDynamicStyles){let r=new Set(),o=n||{};t.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{Bo(l).forEach(d=>{o.hasOwnProperty(d)||r.add(d);});});}),r.size&&e.errors.push(ec(i.name,[...r.values()]));}return{type:k.State,name:i.name,style:t,options:n?{params:n}:null};}visitTransition(i,e){e.queryCount=0,e.depCount=0;let t=be(this,gi(i.animation),e),n=Oc(i.expr,e.errors);return{type:k.Transition,matchers:n,animation:t,queryCount:e.queryCount,depCount:e.depCount,options:xt(i.options)};}visitSequence(i,e){return{type:k.Sequence,steps:i.steps.map(t=>be(this,t,e)),options:xt(i.options)};}visitGroup(i,e){let t=e.currentTime,n=0,r=i.steps.map(o=>{e.currentTime=t;let s=be(this,o,e);return n=Math.max(n,e.currentTime),s;});return e.currentTime=n,{type:k.Group,steps:r,options:xt(i.options)};}visitAnimate(i,e){let t=Qc(i.timings,e.errors);e.currentAnimateTimings=t;let n,r=i.styles?i.styles:Z({});if(r.type==k.Keyframes)n=this.visitKeyframes(r,e);else{let o=i.styles,s=!1;if(!o){s=!0;let d={};t.easing&&(d.easing=t.easing),o=Z(d);}e.currentTime+=t.duration+t.delay;let l=this.visitStyle(o,e);l.isEmptyStep=s,n=l;}return e.currentAnimateTimings=null,{type:k.Animate,timings:t,style:n,options:null};}visitStyle(i,e){let t=this._makeStyleAst(i,e);return this._validateStyleAst(t,e),t;}_makeStyleAst(i,e){let t=[],n=Array.isArray(i.styles)?i.styles:[i.styles];for(let s of n)typeof s=="string"?s===ze?t.push(s):e.errors.push(tc(s)):t.push(new Map(Object.entries(s)));let r=!1,o=null;return t.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(o=s.get("easing"),s.delete("easing")),!r)){for(let l of s.values())if(l.toString().indexOf(Oo)>=0){r=!0;break;}}}),{type:k.Style,styles:t,easing:o,offset:i.offset,containsDynamicStyles:r,options:null};}_validateStyleAst(i,e){let t=e.currentAnimateTimings,n=e.currentTime,r=e.currentTime;t&&r>0&&(r-=t.duration+t.delay),i.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,l)=>{let d=e.collectedStyles.get(e.currentQuerySelector),g=d.get(l),b=!0;g&&(r!=n&&r>=g.startTime&&n<=g.endTime&&(e.errors.push(ic(l,g.startTime,g.endTime,r,n)),b=!1),r=g.startTime),b&&d.set(l,{startTime:r,endTime:n}),e.options&&Ac(s,e.options,e.errors);});});}visitKeyframes(i,e){let t={type:k.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(nc()),t;let n=1,r=0,o=[],s=!1,l=!1,d=0,g=i.steps.map($=>{let Y=this._makeStyleAst($,e),oe=Y.offset!=null?Y.offset:qc(Y.styles),J=0;return oe!=null&&(r++,J=Y.offset=oe),l=l||J<0||J>1,s=s||J<d,d=J,o.push(J),Y;});l&&e.errors.push(ac()),s&&e.errors.push(rc());let b=i.steps.length,I=0;r>0&&r<b?e.errors.push(oc()):r==0&&(I=n/(b-1));let D=b-1,T=e.currentTime,M=e.currentAnimateTimings,V=M.duration;return g.forEach(($,Y)=>{let oe=I>0?Y==D?1:I*Y:o[Y],J=oe*V;e.currentTime=T+M.delay+J,M.duration=J,this._validateStyleAst($,e),$.offset=oe,t.styles.push($);}),t;}visitReference(i,e){return{type:k.Reference,animation:be(this,gi(i.animation),e),options:xt(i.options)};}visitAnimateChild(i,e){return e.depCount++,{type:k.AnimateChild,options:xt(i.options)};}visitAnimateRef(i,e){return{type:k.AnimateRef,animation:this.visitReference(i.animation,e),options:xt(i.options)};}visitQuery(i,e){let t=e.currentQuerySelector,n=i.options||{};e.queryCount++,e.currentQuery=i;let[r,o]=zc(i.selector);e.currentQuerySelector=t.length?t+" "+r:r,ve(e.collectedStyles,e.currentQuerySelector,new Map());let s=be(this,gi(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:k.Query,selector:r,limit:n.limit||0,optional:!!n.optional,includeSelf:o,animation:s,originalSelector:i.selector,options:xt(i.options)};}visitStagger(i,e){e.currentQuery||e.errors.push(sc());let t=i.timings==="full"?{duration:0,delay:0,easing:"full"}:rn(i.timings,e.errors,!0);return{type:k.Stagger,animation:be(this,gi(i.animation),e),timings:t,options:null};}};function zc(a){let i=!!a.split(/\s*,\s*/).find(e=>e==Vo);return i&&(a=a.replace(Vc,"")),a=a.replace(/@\*/g,an).replace(/@\w+/g,e=>an+"-"+e.slice(1)).replace(/:animating/g,Yn),[a,i];}function jc(a){return a?ee({},a):null;}var ea=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map();options=null;unsupportedCSSPropertiesFound=new Set();constructor(i){this.errors=i;}};function qc(a){if(typeof a=="string")return null;let i=null;if(Array.isArray(a))a.forEach(e=>{if(e instanceof Map&&e.has("offset")){let t=e;i=parseFloat(t.get("offset")),t.delete("offset");}});else if(a instanceof Map&&a.has("offset")){let e=a;i=parseFloat(e.get("offset")),e.delete("offset");}return i;}function Qc(a,i){if(a.hasOwnProperty("duration"))return a;if(typeof a=="number"){let r=rn(a,i).duration;return Hn(r,0,"");}let e=a;if(e.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=Hn(0,0,"");return r.dynamic=!0,r.strValue=e,r;}let n=rn(e,i);return Hn(n.duration,n.delay,n.easing);}function xt(a){return a?(a=ee({},a),a.params&&(a.params=jc(a.params))):a={},a;}function Hn(a,i,e){return{duration:a,delay:i,easing:e};}function ga(a,i,e,t,n,r,o=null,s=!1){return{type:1,element:a,keyframes:i,preStyleProps:e,postStyleProps:t,duration:n,delay:r,totalTime:n+r,easing:o,subTimeline:s};}var vi=class{_map=new Map();get(i){return this._map.get(i)||[];}append(i,e){let t=this._map.get(i);t||this._map.set(i,t=[]),t.push(...e);}has(i){return this._map.has(i);}clear(){this._map.clear();}},Hc=1,Kc=":enter",Uc=new RegExp(Kc,"g"),$c=":leave",Gc=new RegExp($c,"g");function jo(a,i,e,t,n,r=new Map(),o=new Map(),s,l,d=[]){return new ta().buildKeyframes(a,i,e,t,n,r,o,s,l,d);}var ta=class{buildKeyframes(i,e,t,n,r,o,s,l,d,g=[]){d=d||new vi();let b=new ia(i,e,d,n,r,g,[]);b.options=l;let I=l.delay?Ze(l.delay):0;b.currentTimeline.delayNextStep(I),b.currentTimeline.setStyles([o],null,b.errors,l),be(this,t,b);let D=b.timelines.filter(T=>T.containsAnimation());if(D.length&&s.size){let T;for(let M=D.length-1;M>=0;M--){let V=D[M];if(V.element===e){T=V;break;}}T&&!T.allowOnlyTimelineStyles()&&T.setStyles([s],null,b.errors,l);}return D.length?D.map(T=>T.buildKeyframes()):[ga(e,[],[],[],0,I,"",!1)];}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){let t=e.subInstructions.get(e.element);if(t){let n=e.createSubContext(i.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(t,n,n.options);r!=o&&e.transformIntoNewTimeline(o);}e.previousNode=i;}visitAnimateRef(i,e){let t=e.createSubContext(i.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,t),this.visitReference(i.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=i;}_applyAnimationRefDelays(i,e,t){for(let n of i){let r=n?.delay;if(r){let o=typeof r=="number"?r:Ze(bi(r,n?.params??{},e.errors));t.delayNextStep(o);}}}_visitSubInstructions(i,e,t){let r=e.currentTimeline.currentTime,o=t.duration!=null?Ze(t.duration):null,s=t.delay!=null?Ze(t.delay):null;return o!==0&&i.forEach(l=>{let d=e.appendInstructionToTimeline(l,o,s);r=Math.max(r,d.duration+d.delay);}),r;}visitReference(i,e){e.updateOptions(i.options,!0),be(this,i.animation,e),e.previousNode=i;}visitSequence(i,e){let t=e.subContextCount,n=e,r=i.options;if(r&&(r.params||r.delay)&&(n=e.createSubContext(r),n.transformIntoNewTimeline(),r.delay!=null)){n.previousNode.type==k.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=ln);let o=Ze(r.delay);n.delayNextStep(o);}i.steps.length&&(i.steps.forEach(o=>be(this,o,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>t&&n.transformIntoNewTimeline()),e.previousNode=i;}visitGroup(i,e){let t=[],n=e.currentTimeline.currentTime,r=i.options&&i.options.delay?Ze(i.options.delay):0;i.steps.forEach(o=>{let s=e.createSubContext(i.options);r&&s.delayNextStep(r),be(this,o,s),n=Math.max(n,s.currentTimeline.currentTime),t.push(s.currentTimeline);}),t.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(n),e.previousNode=i;}_visitTiming(i,e){if(i.dynamic){let t=i.strValue,n=e.params?bi(t,e.params,e.errors):t;return rn(n,e.errors);}else return{duration:i.duration,delay:i.delay,easing:i.easing};}visitAnimate(i,e){let t=e.currentAnimateTimings=this._visitTiming(i.timings,e),n=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),n.snapshotCurrentStyles());let r=i.style;r.type==k.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(t.duration),this.visitStyle(r,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i;}visitStyle(i,e){let t=e.currentTimeline,n=e.currentAnimateTimings;!n&&t.hasCurrentStyleProperties()&&t.forwardFrame();let r=n&&n.easing||i.easing;i.isEmptyStep?t.applyEmptyStep(r):t.setStyles(i.styles,r,e.errors,e.options),e.previousNode=i;}visitKeyframes(i,e){let t=e.currentAnimateTimings,n=e.currentTimeline.duration,r=t.duration,s=e.createSubContext().currentTimeline;s.easing=t.easing,i.styles.forEach(l=>{let d=l.offset||0;s.forwardTime(d*r),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe();}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(n+r),e.previousNode=i;}visitQuery(i,e){let t=e.currentTimeline.currentTime,n=i.options||{},r=n.delay?Ze(n.delay):0;r&&(e.previousNode.type===k.Style||t==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ln);let o=t,s=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((d,g)=>{e.currentQueryIndex=g;let b=e.createSubContext(i.options,d);r&&b.delayNextStep(r),d===e.element&&(l=b.currentTimeline),be(this,i.animation,b),b.currentTimeline.applyStylesToKeyframe();let I=b.currentTimeline.currentTime;o=Math.max(o,I);}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i;}visitStagger(i,e){let t=e.parentContext,n=e.currentTimeline,r=i.timings,o=Math.abs(r.duration),s=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=s-l;break;case"full":l=t.currentStaggerTime;break;}let g=e.currentTimeline;l&&g.delayNextStep(l);let b=g.currentTime;be(this,i.animation,e),e.previousNode=i,t.currentStaggerTime=n.currentTime-b+(n.startTime-t.currentTimeline.startTime);}},ln={},ia=class a{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ln;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(i,e,t,n,r,o,s,l){this._driver=i,this.element=e,this.subInstructions=t,this._enterClassName=n,this._leaveClassName=r,this.errors=o,this.timelines=s,this.currentTimeline=l||new cn(this._driver,e,0),s.push(this.currentTimeline);}get params(){return this.options.params;}updateOptions(i,e){if(!i)return;let t=i,n=this.options;t.duration!=null&&(n.duration=Ze(t.duration)),t.delay!=null&&(n.delay=Ze(t.delay));let r=t.params;if(r){let o=n.params;o||(o=this.options.params={}),Object.keys(r).forEach(s=>{(!e||!o.hasOwnProperty(s))&&(o[s]=bi(r[s],o,this.errors));});}}_copyOptions(){let i={};if(this.options){let e=this.options.params;if(e){let t=i.params={};Object.keys(e).forEach(n=>{t[n]=e[n];});}}return i;}createSubContext(i=null,e,t){let n=e||this.element,r=new a(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,t||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(i),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r;}transformIntoNewTimeline(i){return this.previousNode=ln,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline;}appendInstructionToTimeline(i,e,t){let n={duration:e??i.duration,delay:this.currentTimeline.currentTime+(t??0)+i.delay,easing:""},r=new na(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,n,i.stretchStartingKeyframe);return this.timelines.push(r),n;}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i);}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i);}invokeQuery(i,e,t,n,r,o){let s=[];if(n&&s.push(this.element),i.length>0){i=i.replace(Uc,"."+this._enterClassName),i=i.replace(Gc,"."+this._leaveClassName);let l=t!=1,d=this._driver.query(this.element,i,l);t!==0&&(d=t<0?d.slice(d.length+t,d.length):d.slice(0,t)),s.push(...d);}return!r&&s.length==0&&o.push(lc(e)),s;}},cn=class a{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map();_currentKeyframe=new Map();_keyframes=new Map();_styleSummary=new Map();_localTimelineStyles=new Map();_globalTimelineStyles;_pendingStyles=new Map();_backFill=new Map();_currentEmptyStepKeyframe=null;constructor(i,e,t,n){this._driver=i,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=n,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map()),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe();}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0;}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0;}get currentTime(){return this.startTime+this.duration;}delayNextStep(i){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i;}fork(i,e){return this.applyStylesToKeyframe(),new a(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup);}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map(),this._keyframes.set(this.duration,this._currentKeyframe));}forwardFrame(){this.duration+=Hc,this._loadKeyframe();}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe();}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e});}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe;}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||ze),this._currentKeyframe.set(e,ze);this._currentEmptyStepKeyframe=this._currentKeyframe;}setStyles(i,e,t,n){e&&this._previousKeyframe.set("easing",e);let r=n&&n.params||{},o=Wc(i,this._globalTimelineStyles);for(let[s,l]of o){let d=bi(l,r,t);this._pendingStyles.set(s,d),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??ze),this._updateStyle(s,d);}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i);}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i);}));}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e);}getFinalKeyframe(){return this._keyframes.get(this.duration);}get properties(){let i=[];for(let e in this._currentKeyframe)i.push(e);return i;}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,t)=>{let n=this._styleSummary.get(t);(!n||e.time>n.time)&&this._updateStyle(t,e.value);});}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set(),e=new Set(),t=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((s,l)=>{let d=new Map([...this._backFill,...s]);d.forEach((g,b)=>{g===Ni?i.add(b):g===ze&&e.add(b);}),t||d.set("offset",l/this.duration),n.push(d);});let r=[...i.values()],o=[...e.values()];if(t){let s=n[0],l=new Map(s);s.set("offset",0),l.set("offset",1),n=[s,l];}return ga(this.element,n,r,o,this.duration,this.startTime,this.easing,!1);}},na=class extends cn{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(i,e,t,n,r,o,s=!1){super(i,e,o.delay),this.keyframes=t,this.preStyleProps=n,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing};}containsAnimation(){return this.keyframes.length>1;}buildKeyframes(){let i=this.keyframes,{delay:e,duration:t,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){let r=[],o=t+e,s=e/o,l=new Map(i[0]);l.set("offset",0),r.push(l);let d=new Map(i[0]);d.set("offset",xo(s)),r.push(d);let g=i.length-1;for(let b=1;b<=g;b++){let I=new Map(i[b]),D=I.get("offset"),T=e+D*t;I.set("offset",xo(T/o)),r.push(I);}t=o,e=0,n="",i=r;}return ga(this.element,i,this.preStyleProps,this.postStyleProps,t,e,n,!0);}};function xo(a,i=3){let e=Math.pow(10,i-1);return Math.round(a*e)/e;}function Wc(a,i){let e=new Map(),t;return a.forEach(n=>{if(n==="*"){t??=i.keys();for(let r of t)e.set(r,ze);}else for(let[r,o]of n)e.set(r,o);}),e;}function Eo(a,i,e,t,n,r,o,s,l,d,g,b,I){return{type:0,element:a,triggerName:i,isRemovalTransition:n,fromState:e,fromStyles:r,toState:t,toStyles:o,timelines:s,queriedElements:l,preStyleProps:d,postStyleProps:g,totalTime:b,errors:I};}var Kn={},dn=class{_triggerName;ast;_stateStyles;constructor(i,e,t){this._triggerName=i,this.ast=e,this._stateStyles=t;}match(i,e,t,n){return Yc(this.ast.matchers,i,e,t,n);}buildStyles(i,e,t){let n=this._stateStyles.get("*");return i!==void 0&&(n=this._stateStyles.get(i?.toString())||n),n?n.buildStyles(e,t):new Map();}build(i,e,t,n,r,o,s,l,d,g){let b=[],I=this.ast.options&&this.ast.options.params||Kn,D=s&&s.params||Kn,T=this.buildStyles(t,D,b),M=l&&l.params||Kn,V=this.buildStyles(n,M,b),$=new Set(),Y=new Map(),oe=new Map(),J=n==="void",It={params:qo(M,I),delay:this.ast.options?.delay},Ae=g?[]:jo(i,e,this.ast.animation,r,o,T,V,It,d,b),se=0;return Ae.forEach(de=>{se=Math.max(de.duration+de.delay,se);}),b.length?Eo(e,this._triggerName,t,n,J,T,V,[],[],Y,oe,se,b):(Ae.forEach(de=>{let ft=de.element,kt=ve(Y,ft,new Set());de.preStyleProps.forEach(gt=>kt.add(gt));let _a=ve(oe,ft,new Set());de.postStyleProps.forEach(gt=>_a.add(gt)),ft!==e&&$.add(ft);}),Eo(e,this._triggerName,t,n,J,T,V,Ae,[...$.values()],Y,oe,se));}};function Yc(a,i,e,t,n){return a.some(r=>r(i,e,t,n));}function qo(a,i){let e=ee({},i);return Object.entries(a).forEach(([t,n])=>{n!=null&&(e[t]=n);}),e;}var aa=class{styles;defaultParams;normalizer;constructor(i,e,t){this.styles=i,this.defaultParams=e,this.normalizer=t;}buildStyles(i,e){let t=new Map(),n=qo(i,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((o,s)=>{o&&(o=bi(o,n,e));let l=this.normalizer.normalizePropertyName(s,e);o=this.normalizer.normalizeStyleValue(s,l,o,e),t.set(s,o);});}),t;}};function Xc(a,i,e){return new ra(a,i,e);}var ra=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map();constructor(i,e,t){this.name=i,this.ast=e,this._normalizer=t,e.states.forEach(n=>{let r=n.options&&n.options.params||{};this.states.set(n.name,new aa(n.style,r,t));}),Do(this.states,"true","1"),Do(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new dn(i,n,this.states));}),this.fallbackTransition=Zc(i,this.states,this._normalizer);}get containsQueries(){return this.ast.queryCount>0;}matchTransition(i,e,t,n){return this.transitionFactories.find(o=>o.match(i,e,t,n))||null;}matchStyles(i,e,t){return this.fallbackTransition.buildStyles(i,e,t);}};function Zc(a,i,e){let t=[(o,s)=>!0],n={type:k.Sequence,steps:[],options:null},r={type:k.Transition,animation:n,matchers:t,options:null,queryCount:0,depCount:0};return new dn(a,r,i);}function Do(a,i,e){a.has(i)?a.has(e)||a.set(e,a.get(i)):a.has(e)&&a.set(i,a.get(e));}var Jc=new vi(),oa=class{bodyNode;_driver;_normalizer;_animations=new Map();_playersById=new Map();players=[];constructor(i,e,t){this.bodyNode=i,this._driver=e,this._normalizer=t;}register(i,e){let t=[],n=[],r=zo(this._driver,e,t,n);if(t.length)throw pc(t);n.length&&void 0,this._animations.set(i,r);}_buildPlayer(i,e,t){let n=i.element,r=Fo(this._normalizer,i.keyframes,e,t);return this._driver.animate(n,r,i.duration,i.delay,i.easing,[],!0);}create(i,e,t={}){let n=[],r=this._animations.get(i),o,s=new Map();if(r?(o=jo(this._driver,e,r,Lo,Wn,new Map(),new Map(),t,Jc,n),o.forEach(g=>{let b=ve(s,g.element,new Map());g.postStyleProps.forEach(I=>b.set(I,null));})):(n.push(hc()),o=[]),n.length)throw fc(n);s.forEach((g,b)=>{g.forEach((I,D)=>{g.set(D,this._driver.computeStyle(b,D,ze));});});let l=o.map(g=>{let b=s.get(g.element);return this._buildPlayer(g,new Map(),b);}),d=ht(l);return this._playersById.set(i,d),d.onDestroy(()=>this.destroy(i)),this.players.push(d),d;}destroy(i){let e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);let t=this.players.indexOf(e);t>=0&&this.players.splice(t,1);}_getPlayer(i){let e=this._playersById.get(i);if(!e)throw gc(i);return e;}listen(i,e,t,n){let r=ma(e,"","","");return da(this._getPlayer(i),t,r,n),()=>{};}command(i,e,t,n){if(t=="register"){this.register(i,n[0]);return;}if(t=="create"){let o=n[0]||{};this.create(i,e,o);return;}let r=this._getPlayer(i);switch(t){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(i);break;}}},Mo="ng-animate-queued",ed=".ng-animate-queued",Un="ng-animate-disabled",td=".ng-animate-disabled",id="ng-star-inserted",nd=".ng-star-inserted",ad=[],Qo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ke="__ng_removed",yi=class{namespaceId;value;options;get params(){return this.options.params;}constructor(i,e=""){this.namespaceId=e;let t=i&&i.hasOwnProperty("value"),n=t?i.value:i;if(this.value=sd(n),t){let r=i,{value:o}=r,s=Ca(r,["value"]);this.options=s;}else this.options={};this.options.params||(this.options.params={});}absorbOptions(i){let e=i.params;if(e){let t=this.options.params;Object.keys(e).forEach(n=>{t[n]==null&&(t[n]=e[n]);});}}},_i="void",$n=new yi(_i),sa=class{id;hostElement;_engine;players=[];_triggers=new Map();_queue=[];_elementListeners=new Map();_hostClassName;constructor(i,e,t){this.id=i,this.hostElement=e,this._engine=t,this._hostClassName="ng-tns-"+i,De(e,this._hostClassName);}listen(i,e,t,n){if(!this._triggers.has(e))throw _c(t,e);if(t==null||t.length==0)throw bc(e);if(!ld(t))throw vc(t,e);let r=ve(this._elementListeners,i,[]),o={name:e,phase:t,callback:n};r.push(o);let s=ve(this._engine.statesByElement,i,new Map());return s.has(e)||(De(i,Zi),De(i,Zi+"-"+e),s.set(e,$n)),()=>{this._engine.afterFlush(()=>{let l=r.indexOf(o);l>=0&&r.splice(l,1),this._triggers.has(e)||s.delete(e);});};}register(i,e){return this._triggers.has(i)?!1:(this._triggers.set(i,e),!0);}_getTrigger(i){let e=this._triggers.get(i);if(!e)throw yc(i);return e;}trigger(i,e,t,n=!0){let r=this._getTrigger(e),o=new Ci(this.id,e,i),s=this._engine.statesByElement.get(i);s||(De(i,Zi),De(i,Zi+"-"+e),this._engine.statesByElement.set(i,s=new Map()));let l=s.get(e),d=new yi(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&l&&d.absorbOptions(l.options),s.set(e,d),l||(l=$n),!(d.value===_i)&&l.value===d.value){if(!md(l.params,d.params)){let M=[],V=r.matchStyles(l.value,l.params,M),$=r.matchStyles(d.value,d.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{Et(i,V),Qe(i,$);});}return;}let I=ve(this._engine.playersByElement,i,[]);I.forEach(M=>{M.namespaceId==this.id&&M.triggerName==e&&M.queued&&M.destroy();});let D=r.matchTransition(l.value,d.value,i,d.params),T=!1;if(!D){if(!n)return;D=r.fallbackTransition,T=!0;}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:D,fromState:l,toState:d,player:o,isFallbackTransition:T}),T||(De(i,Mo),o.onStart(()=>{ti(i,Mo);})),o.onDone(()=>{let M=this.players.indexOf(o);M>=0&&this.players.splice(M,1);let V=this._engine.playersByElement.get(i);if(V){let $=V.indexOf(o);$>=0&&V.splice($,1);}}),this.players.push(o),I.push(o),o;}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(n=>n.name!=i));});}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let e=this._engine.playersByElement.get(i);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(i));}_signalRemovalForInnerTriggers(i,e){let t=this._engine.driver.query(i,an,!0);t.forEach(n=>{if(n[ke])return;let r=this._engine.fetchNamespacesByElement(n);r.size?r.forEach(o=>o.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n);}),this._engine.afterFlushAnimationsDone(()=>t.forEach(n=>this.clearElementCache(n)));}triggerLeaveAnimation(i,e,t,n){let r=this._engine.statesByElement.get(i),o=new Map();if(r){let s=[];if(r.forEach((l,d)=>{if(o.set(d,l.value),this._triggers.has(d)){let g=this.trigger(i,d,_i,n);g&&s.push(g);}}),s.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,o),t&&ht(s).onDone(()=>this._engine.processLeaveNode(i)),!0;}return!1;}prepareLeaveAnimationListeners(i){let e=this._elementListeners.get(i),t=this._engine.statesByElement.get(i);if(e&&t){let n=new Set();e.forEach(r=>{let o=r.name;if(n.has(o))return;n.add(o);let l=this._triggers.get(o).fallbackTransition,d=t.get(o)||$n,g=new yi(_i),b=new Ci(this.id,o,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:o,transition:l,fromState:d,toState:g,player:b,isFallbackTransition:!0});});}}removeNode(i,e){let t=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let n=!1;if(t.totalAnimations){let r=t.players.length?t.playersByQueriedElement.get(i):[];if(r&&r.length)n=!0;else{let o=i;for(;o=o.parentNode;)if(t.statesByElement.get(o)){n=!0;break;}}}if(this.prepareLeaveAnimationListeners(i),n)t.markElementAsRemoved(this.id,i,!1,e);else{let r=i[ke];(!r||r===Qo)&&(t.afterFlush(()=>this.clearElementCache(i)),t.destroyInnerAnimations(i),t._onRemovalComplete(i,e));}}insertNode(i,e){De(i,this._hostClassName);}drainQueuedTransitions(i){let e=[];return this._queue.forEach(t=>{let n=t.player;if(n.destroyed)return;let r=t.element,o=this._elementListeners.get(r);o&&o.forEach(s=>{if(s.name==t.triggerName){let l=ma(r,t.triggerName,t.fromState.value,t.toState.value);l._data=i,da(t.player,s.phase,l,s.callback);}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy();}):e.push(t);}),this._queue=[],e.sort((t,n)=>{let r=t.transition.ast.depCount,o=n.transition.ast.depCount;return r==0||o==0?r-o:this._engine.driver.containsElement(t.element,n.element)?1:-1;});}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i);}},la=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map();playersByElement=new Map();playersByQueriedElement=new Map();statesByElement=new Map();disabledNodes=new Set();totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map();collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(i,e)=>{};_onRemovalComplete(i,e){this.onRemovalComplete(i,e);}constructor(i,e,t){this.bodyNode=i,this.driver=e,this._normalizer=t;}get queuedPlayers(){let i=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&i.push(t);});}),i;}createNamespace(i,e){let t=new sa(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[i]=t;}_balanceNamespaceList(i,e){let t=this._namespaceList,n=this.namespacesByHostElement;if(t.length-1>=0){let o=!1,s=this.driver.getParentElement(e);for(;s;){let l=n.get(s);if(l){let d=t.indexOf(l);t.splice(d+1,0,i),o=!0;break;}s=this.driver.getParentElement(s);}o||t.unshift(i);}else t.push(i);return n.set(e,i),i;}register(i,e){let t=this._namespaceLookup[i];return t||(t=this.createNamespace(i,e)),t;}registerTrigger(i,e,t){let n=this._namespaceLookup[i];n&&n.register(e,t)&&this.totalAnimations++;}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(i);this.namespacesByHostElement.delete(t.hostElement);let n=this._namespaceList.indexOf(t);n>=0&&this._namespaceList.splice(n,1),t.destroy(e),delete this._namespaceLookup[i];}));}_fetchNamespace(i){return this._namespaceLookup[i];}fetchNamespacesByElement(i){let e=new Set(),t=this.statesByElement.get(i);if(t){for(let n of t.values())if(n.namespaceId){let r=this._fetchNamespace(n.namespaceId);r&&e.add(r);}}return e;}trigger(i,e,t,n){if(tn(e)){let r=this._fetchNamespace(i);if(r)return r.trigger(e,t,n),!0;}return!1;}insertNode(i,e,t,n){if(!tn(e))return;let r=e[ke];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1);}if(i){let o=this._fetchNamespace(i);o&&o.insertNode(e,t);}n&&this.collectEnterElement(e);}collectEnterElement(i){this.collectedEnterElements.push(i);}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),De(i,Un)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),ti(i,Un));}removeNode(i,e,t){if(tn(e)){let n=i?this._fetchNamespace(i):null;n?n.removeNode(e,t):this.markElementAsRemoved(i,e,!1,t);let r=this.namespacesByHostElement.get(e);r&&r.id!==i&&r.removeNode(e,t);}else this._onRemovalComplete(e,t);}markElementAsRemoved(i,e,t,n,r){this.collectedLeaveElements.push(e),e[ke]={namespaceId:i,setForRemoval:n,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:r};}listen(i,e,t,n,r){return tn(e)?this._fetchNamespace(i).listen(e,t,n,r):()=>{};}_buildInstruction(i,e,t,n,r){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,t,n,i.fromState.options,i.toState.options,e,r);}destroyInnerAnimations(i){let e=this.driver.query(i,an,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(i,Yn,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)));}destroyActiveAnimationsForElement(i){let e=this.playersByElement.get(i);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy();});}finishActiveQueriedAnimationOnElement(i){let e=this.playersByQueriedElement.get(i);e&&e.forEach(t=>t.finish());}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return ht(this.players).onDone(()=>i());i();});}processLeaveNode(i){let e=i[ke];if(e&&e.setForRemoval){if(i[ke]=Qo,e.namespaceId){this.destroyInnerAnimations(i);let t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(i);}this._onRemovalComplete(i,e.setForRemoval);}i.classList?.contains(Un)&&this.markElementAsDisabled(i,!1),this.driver.query(i,td,!0).forEach(t=>{this.markElementAsDisabled(t,!1);});}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,n)=>this._balanceNamespaceList(t,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let n=this.collectedEnterElements[t];De(n,id);}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{e=this._flushAnimations(t,i);}finally{for(let n=0;n<t.length;n++)t[n]();}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let n=this.collectedLeaveElements[t];this.processLeaveNode(n);}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],e.length?ht(e).onDone(()=>{t.forEach(n=>n());}):t.forEach(n=>n());}}reportError(i){throw Cc(i);}_flushAnimations(i,e){let t=new vi(),n=[],r=new Map(),o=[],s=new Map(),l=new Map(),d=new Map(),g=new Set();this.disabledNodes.forEach(v=>{g.add(v);let S=this.driver.query(v,ed,!0);for(let x=0;x<S.length;x++)g.add(S[x]);});let b=this.bodyNode,I=Array.from(this.statesByElement.keys()),D=Ao(I,this.collectedEnterElements),T=new Map(),M=0;D.forEach((v,S)=>{let x=Lo+M++;T.set(S,x),v.forEach(A=>De(A,x));});let V=[],$=new Set(),Y=new Set();for(let v=0;v<this.collectedLeaveElements.length;v++){let S=this.collectedLeaveElements[v],x=S[ke];x&&x.setForRemoval&&(V.push(S),$.add(S),x.hasAnimation?this.driver.query(S,nd,!0).forEach(A=>$.add(A)):Y.add(S));}let oe=new Map(),J=Ao(I,Array.from($));J.forEach((v,S)=>{let x=Wn+M++;oe.set(S,x),v.forEach(A=>De(A,x));}),i.push(()=>{D.forEach((v,S)=>{let x=T.get(S);v.forEach(A=>ti(A,x));}),J.forEach((v,S)=>{let x=oe.get(S);v.forEach(A=>ti(A,x));}),V.forEach(v=>{this.processLeaveNode(v);});});let It=[],Ae=[];for(let v=this._namespaceList.length-1;v>=0;v--)this._namespaceList[v].drainQueuedTransitions(e).forEach(x=>{let A=x.player,X=x.element;if(It.push(A),this.collectedEnterElements.length){let ae=X[ke];if(ae&&ae.setForMove){if(ae.previousTriggersValues&&ae.previousTriggersValues.has(x.triggerName)){let _t=ae.previousTriggersValues.get(x.triggerName),ye=this.statesByElement.get(x.element);if(ye&&ye.has(x.triggerName)){let Ti=ye.get(x.triggerName);Ti.value=_t,ye.set(x.triggerName,Ti);}}A.destroy();return;}}let Pe=!b||!this.driver.containsElement(b,X),ge=oe.get(X),Je=T.get(X),z=this._buildInstruction(x,t,Je,ge,Pe);if(z.errors&&z.errors.length){Ae.push(z);return;}if(Pe){A.onStart(()=>Et(X,z.fromStyles)),A.onDestroy(()=>Qe(X,z.toStyles)),n.push(A);return;}if(x.isFallbackTransition){A.onStart(()=>Et(X,z.fromStyles)),A.onDestroy(()=>Qe(X,z.toStyles)),n.push(A);return;}let ya=[];z.timelines.forEach(ae=>{ae.stretchStartingKeyframe=!0,this.disabledNodes.has(ae.element)||ya.push(ae);}),z.timelines=ya,t.append(X,z.timelines);let Go={instruction:z,player:A,element:X};o.push(Go),z.queriedElements.forEach(ae=>ve(s,ae,[]).push(A)),z.preStyleProps.forEach((ae,_t)=>{if(ae.size){let ye=l.get(_t);ye||l.set(_t,ye=new Set()),ae.forEach((Ti,gn)=>ye.add(gn));}}),z.postStyleProps.forEach((ae,_t)=>{let ye=d.get(_t);ye||d.set(_t,ye=new Set()),ae.forEach((Ti,gn)=>ye.add(gn));});});if(Ae.length){let v=[];Ae.forEach(S=>{v.push(Tc(S.triggerName,S.errors));}),It.forEach(S=>S.destroy()),this.reportError(v);}let se=new Map(),de=new Map();o.forEach(v=>{let S=v.element;t.has(S)&&(de.set(S,S),this._beforeAnimationBuild(v.player.namespaceId,v.instruction,se));}),n.forEach(v=>{let S=v.element;this._getPreviousPlayers(S,!1,v.namespaceId,v.triggerName,null).forEach(A=>{ve(se,S,[]).push(A),A.destroy();});});let ft=V.filter(v=>Po(v,l,d)),kt=new Map();ko(kt,this.driver,Y,d,ze).forEach(v=>{Po(v,l,d)&&ft.push(v);});let gt=new Map();D.forEach((v,S)=>{ko(gt,this.driver,new Set(v),l,Ni);}),ft.forEach(v=>{let S=kt.get(v),x=gt.get(v);kt.set(v,new Map([...(S?.entries()??[]),...(x?.entries()??[])]));});let fn=[],ba=[],va={};o.forEach(v=>{let{element:S,player:x,instruction:A}=v;if(t.has(S)){if(g.has(S)){x.onDestroy(()=>Qe(S,A.toStyles)),x.disabled=!0,x.overrideTotalTime(A.totalTime),n.push(x);return;}let X=va;if(de.size>1){let ge=S,Je=[];for(;ge=ge.parentNode;){let z=de.get(ge);if(z){X=z;break;}Je.push(ge);}Je.forEach(z=>de.set(z,X));}let Pe=this._buildAnimation(x.namespaceId,A,se,r,gt,kt);if(x.setRealPlayer(Pe),X===va)fn.push(x);else{let ge=this.playersByElement.get(X);ge&&ge.length&&(x.parentPlayer=ht(ge)),n.push(x);}}else Et(S,A.fromStyles),x.onDestroy(()=>Qe(S,A.toStyles)),ba.push(x),g.has(S)&&n.push(x);}),ba.forEach(v=>{let S=r.get(v.element);if(S&&S.length){let x=ht(S);v.setRealPlayer(x);}}),n.forEach(v=>{v.parentPlayer?v.syncPlayerEvents(v.parentPlayer):v.destroy();});for(let v=0;v<V.length;v++){let S=V[v],x=S[ke];if(ti(S,Wn),x&&x.hasAnimation)continue;let A=[];if(s.size){let Pe=s.get(S);Pe&&Pe.length&&A.push(...Pe);let ge=this.driver.query(S,Yn,!0);for(let Je=0;Je<ge.length;Je++){let z=s.get(ge[Je]);z&&z.length&&A.push(...z);}}let X=A.filter(Pe=>!Pe.destroyed);X.length?cd(this,S,X):this.processLeaveNode(S);}return V.length=0,fn.forEach(v=>{this.players.push(v),v.onDone(()=>{v.destroy();let S=this.players.indexOf(v);this.players.splice(S,1);}),v.play();}),fn;}afterFlush(i){this._flushFns.push(i);}afterFlushAnimationsDone(i){this._whenQuietFns.push(i);}_getPreviousPlayers(i,e,t,n,r){let o=[];if(e){let s=this.playersByQueriedElement.get(i);s&&(o=s);}else{let s=this.playersByElement.get(i);if(s){let l=!r||r==_i;s.forEach(d=>{d.queued||!l&&d.triggerName!=n||o.push(d);});}}return(t||n)&&(o=o.filter(s=>!(t&&t!=s.namespaceId||n&&n!=s.triggerName))),o;}_beforeAnimationBuild(i,e,t){let n=e.triggerName,r=e.element,o=e.isRemovalTransition?void 0:i,s=e.isRemovalTransition?void 0:n;for(let l of e.timelines){let d=l.element,g=d!==r,b=ve(t,d,[]);this._getPreviousPlayers(d,g,o,s,e.toState).forEach(D=>{let T=D.getRealPlayer();T.beforeDestroy&&T.beforeDestroy(),D.destroy(),b.push(D);});}Et(r,e.fromStyles);}_buildAnimation(i,e,t,n,r,o){let s=e.triggerName,l=e.element,d=[],g=new Set(),b=new Set(),I=e.timelines.map(T=>{let M=T.element;g.add(M);let V=M[ke];if(V&&V.removedBeforeQueried)return new Nt(T.duration,T.delay);let $=M!==l,Y=dd((t.get(M)||ad).map(se=>se.getRealPlayer())).filter(se=>{let de=se;return de.element?de.element===M:!1;}),oe=r.get(M),J=o.get(M),It=Fo(this._normalizer,T.keyframes,oe,J),Ae=this._buildPlayer(T,It,Y);if(T.subTimeline&&n&&b.add(M),$){let se=new Ci(i,s,M);se.setRealPlayer(Ae),d.push(se);}return Ae;});d.forEach(T=>{ve(this.playersByQueriedElement,T.element,[]).push(T),T.onDone(()=>od(this.playersByQueriedElement,T.element,T));}),g.forEach(T=>De(T,To));let D=ht(I);return D.onDestroy(()=>{g.forEach(T=>ti(T,To)),Qe(l,e.toStyles);}),b.forEach(T=>{ve(n,T,[]).push(D);}),D;}_buildPlayer(i,e,t){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,t):new Nt(i.duration,i.delay);}},Ci=class{namespaceId;triggerName;element;_player=new Nt();_containsRealPlayer=!1;_queuedCallbacks=new Map();destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(i,e,t){this.namespaceId=i,this.triggerName=e,this.element=t;}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,t)=>{e.forEach(n=>da(i,t,void 0,n));}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1);}getRealPlayer(){return this._player;}overrideTotalTime(i){this.totalTime=i;}syncPlayerEvents(i){let e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy());}_queueEvent(i,e){ve(this._queuedCallbacks,i,[]).push(e);}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i);}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i);}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i);}init(){this._player.init();}hasStarted(){return this.queued?!1:this._player.hasStarted();}play(){!this.queued&&this._player.play();}pause(){!this.queued&&this._player.pause();}restart(){!this.queued&&this._player.restart();}finish(){this._player.finish();}destroy(){this.destroyed=!0,this._player.destroy();}reset(){!this.queued&&this._player.reset();}setPosition(i){this.queued||this._player.setPosition(i);}getPosition(){return this.queued?0:this._player.getPosition();}triggerCallback(i){let e=this._player;e.triggerCallback&&e.triggerCallback(i);}};function od(a,i,e){let t=a.get(i);if(t){if(t.length){let n=t.indexOf(e);t.splice(n,1);}t.length==0&&a.delete(i);}return t;}function sd(a){return a??null;}function tn(a){return a&&a.nodeType===1;}function ld(a){return a=="start"||a=="done";}function Io(a,i){let e=a.style.display;return a.style.display=i??"none",e;}function ko(a,i,e,t,n){let r=[];e.forEach(l=>r.push(Io(l)));let o=[];t.forEach((l,d)=>{let g=new Map();l.forEach(b=>{let I=i.computeStyle(d,b,n);g.set(b,I),(!I||I.length==0)&&(d[ke]=rd,o.push(d));}),a.set(d,g);});let s=0;return e.forEach(l=>Io(l,r[s++])),o;}function Ao(a,i){let e=new Map();if(a.forEach(s=>e.set(s,[])),i.length==0)return e;let t=1,n=new Set(i),r=new Map();function o(s){if(!s)return t;let l=r.get(s);if(l)return l;let d=s.parentNode;return e.has(d)?l=d:n.has(d)?l=t:l=o(d),r.set(s,l),l;}return i.forEach(s=>{let l=o(s);l!==t&&e.get(l).push(s);}),e;}function De(a,i){a.classList?.add(i);}function ti(a,i){a.classList?.remove(i);}function cd(a,i,e){ht(e).onDone(()=>a.processLeaveNode(i));}function dd(a){let i=[];return Ho(a,i),i;}function Ho(a,i){for(let e=0;e<a.length;e++){let t=a[e];t instanceof Tn?Ho(t.players,i):i.push(t);}}function md(a,i){let e=Object.keys(a),t=Object.keys(i);if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n];if(!i.hasOwnProperty(r)||a[r]!==i[r])return!1;}return!0;}function Po(a,i,e){let t=e.get(a);if(!t)return!1;let n=i.get(a);return n?t.forEach(r=>n.add(r)):i.set(a,t),e.delete(a),!0;}var ii=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(i,e)=>{};constructor(i,e,t){this._driver=e,this._normalizer=t,this._transitionEngine=new la(i.body,e,t),this._timelineEngine=new oa(i.body,e,t),this._transitionEngine.onRemovalComplete=(n,r)=>this.onRemovalComplete(n,r);}registerTrigger(i,e,t,n,r){let o=i+"-"+n,s=this._triggerCache[o];if(!s){let l=[],d=[],g=zo(this._driver,r,l,d);if(l.length)throw mc(n,l);d.length&&void 0,s=Xc(n,g,this._normalizer),this._triggerCache[o]=s;}this._transitionEngine.registerTrigger(e,n,s);}register(i,e){this._transitionEngine.register(i,e);}destroy(i,e){this._transitionEngine.destroy(i,e);}onInsert(i,e,t,n){this._transitionEngine.insertNode(i,e,t,n);}onRemove(i,e,t){this._transitionEngine.removeNode(i,e,t);}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e);}process(i,e,t,n){if(t.charAt(0)=="@"){let[r,o]=yo(t),s=n;this._timelineEngine.command(r,e,o,s);}else this._transitionEngine.trigger(i,e,t,n);}listen(i,e,t,n,r){if(t.charAt(0)=="@"){let[o,s]=yo(t);return this._timelineEngine.listen(o,e,s,r);}return this._transitionEngine.listen(i,e,t,n,r);}flush(i=-1){this._transitionEngine.flush(i);}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players];}whenRenderingDone(){return this._transitionEngine.whenRenderingDone();}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i);}};function ud(a,i){let e=null,t=null;return Array.isArray(i)&&i.length?(e=Gn(i[0]),i.length>1&&(t=Gn(i[i.length-1]))):i instanceof Map&&(e=Gn(i)),e||t?new pd(a,e,t):null;}var pd=(()=>{class a{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap();_state=0;_initialStyles;constructor(e,t,n){this._element=e,this._startStyles=t,this._endStyles=n;let r=a.initialStylesByElement.get(e);r||a.initialStylesByElement.set(e,r=new Map()),this._initialStyles=r;}start(){this._state<1&&(this._startStyles&&Qe(this._element,this._startStyles,this._initialStyles),this._state=1);}finish(){this.start(),this._state<2&&(Qe(this._element,this._initialStyles),this._endStyles&&(Qe(this._element,this._endStyles),this._endStyles=null),this._state=1);}destroy(){this.finish(),this._state<3&&(a.initialStylesByElement.delete(this._element),this._startStyles&&(Et(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Et(this._element,this._endStyles),this._endStyles=null),Qe(this._element,this._initialStyles),this._state=3);}}return a;})();function Gn(a){let i=null;return a.forEach((e,t)=>{hd(t)&&(i=i||new Map(),i.set(t,e));}),i;}function hd(a){return a==="display"||a==="position";}var mn=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map();constructor(i,e,t,n){this.element=i,this.keyframes=e,this.options=t,this._specialStyles=n,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay;}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]);}init(){this._buildPlayer(),this._preparePlayerBeforeStart();}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map();let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e);});}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause();}_convertKeyframesToObject(i){let e=[];return i.forEach(t=>{e.push(Object.fromEntries(t));}),e;}_triggerWebAnimation(i,e,t){return i.animate(this._convertKeyframesToObject(e),t);}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i);}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i);}onDestroy(i){this._onDestroyFns.push(i);}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play();}pause(){this.init(),this.domPlayer.pause();}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish();}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns;}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel();}restart(){this.reset(),this.play();}hasStarted(){return this._started;}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[]);}setPosition(i){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=i*this.time;}getPosition(){return+(this.domPlayer.currentTime??0)/this.time;}get totalTime(){return this._delay+this._duration;}beforeDestroy(){let i=new Map();this.hasStarted()&&this._finalKeyframe.forEach((t,n)=>{n!=="offset"&&i.set(n,this._finished?t:fa(this.element,n));}),this.currentSnapshot=i;}triggerCallback(i){let e=i==="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0;}},un=class{validateStyleProperty(i){return!0;}validateAnimatableStyleProperty(i){return!0;}containsElement(i,e){return Ro(i,e);}getParentElement(i){return ua(i);}query(i,e,t){return No(i,e,t);}computeStyle(i,e,t){return fa(i,e);}animate(i,e,t,n,r,o=[]){let s=n==0?"both":"forwards",l={duration:t,delay:n,fill:s};r&&(l.easing=r);let d=new Map(),g=o.filter(D=>D instanceof mn);Fc(t,n)&&g.forEach(D=>{D.currentSnapshot.forEach((T,M)=>d.set(M,T));});let b=kc(e).map(D=>new Map(D));b=Rc(i,b,d);let I=ud(i,b);return new mn(i,b,l,I);}};var nn="@",Ko="@.disabled",pn=class{namespaceId;delegate;engine;_onDestroy;ɵtype=0;constructor(i,e,t,n){this.namespaceId=i,this.delegate=e,this.engine=t,this._onDestroy=n;}get data(){return this.delegate.data;}destroyNode(i){this.delegate.destroyNode?.(i);}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy();});}),this._onDestroy?.();}createElement(i,e){return this.delegate.createElement(i,e);}createComment(i){return this.delegate.createComment(i);}createText(i){return this.delegate.createText(i);}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1);}insertBefore(i,e,t,n=!0){this.delegate.insertBefore(i,e,t),this.engine.onInsert(this.namespaceId,e,i,n);}removeChild(i,e,t){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate);}selectRootElement(i,e){return this.delegate.selectRootElement(i,e);}parentNode(i){return this.delegate.parentNode(i);}nextSibling(i){return this.delegate.nextSibling(i);}setAttribute(i,e,t,n){this.delegate.setAttribute(i,e,t,n);}removeAttribute(i,e,t){this.delegate.removeAttribute(i,e,t);}addClass(i,e){this.delegate.addClass(i,e);}removeClass(i,e){this.delegate.removeClass(i,e);}setStyle(i,e,t,n){this.delegate.setStyle(i,e,t,n);}removeStyle(i,e,t){this.delegate.removeStyle(i,e,t);}setProperty(i,e,t){e.charAt(0)==nn&&e==Ko?this.disableAnimations(i,!!t):this.delegate.setProperty(i,e,t);}setValue(i,e){this.delegate.setValue(i,e);}listen(i,e,t){return this.delegate.listen(i,e,t);}disableAnimations(i,e){this.engine.disableAnimations(i,e);}},ca=class extends pn{factory;constructor(i,e,t,n,r){super(e,t,n,r),this.factory=i,this.namespaceId=e;}setProperty(i,e,t){e.charAt(0)==nn?e.charAt(1)=="."&&e==Ko?(t=t===void 0?!0:!!t,this.disableAnimations(i,t)):this.engine.process(this.namespaceId,i,e.slice(1),t):this.delegate.setProperty(i,e,t);}listen(i,e,t){if(e.charAt(0)==nn){let n=fd(i),r=e.slice(1),o="";return r.charAt(0)!=nn&&([r,o]=gd(r)),this.engine.listen(this.namespaceId,n,r,o,s=>{let l=s._data||-1;this.factory.scheduleListenerCallback(l,t,s);});}return this.delegate.listen(i,e,t);}};function fd(a){switch(a){case"body":return document.body;case"document":return document;case"window":return window;default:return a;}}function gd(a){let i=a.indexOf("."),e=a.substring(0,i),t=a.slice(i+1);return[e,t];}var hn=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map();_cdRecurDepth=0;constructor(i,e,t){this.delegate=i,this.engine=e,this._zone=t,e.onRemovalComplete=(n,r)=>{r?.removeChild(null,n);};}createRenderer(i,e){let t="",n=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){let d=this._rendererCache,g=d.get(n);if(!g){let b=()=>d.delete(n);g=new pn(t,n,this.engine,b),d.set(n,g);}return g;}let r=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,i);let s=d=>{Array.isArray(d)?d.forEach(s):this.engine.registerTrigger(r,o,i,d.name,d);};return e.data.animation.forEach(s),new ca(this,o,n,this.engine);}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin();}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++;});}scheduleListenerCallback(i,e,t){if(i>=0&&i<this._microtaskId){this._zone.run(()=>e(t));return;}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(r=>{let[o,s]=r;o(s);}),this._animationCallbacksBuffer=[];});}),n.push([e,t]);}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId);}),this.delegate.end&&this.delegate.end();}whenRenderingDone(){return this.engine.whenRenderingDone();}};var bd=(()=>{class a extends ii{constructor(e,t,n){super(e,t,n);}ngOnDestroy(){this.flush();}static ɵfac=function(t){return new(t||a)(bt(at),bt(Dt),bt(Mt));};static ɵprov=me({token:a,factory:a.ɵfac});}return a;})();function vd(){return new on();}function yd(a,i,e){return new hn(a,i,e);}var Uo=[{provide:Mt,useFactory:vd},{provide:ii,useClass:bd},{provide:Pa,useFactory:yd,deps:[$a,ii,Ue]}],Cd=[{provide:Dt,useFactory:()=>new un()},{provide:Le,useValue:"BrowserAnimations"},...Uo],Gh=[{provide:Dt,useClass:pa},{provide:Le,useValue:"NoopAnimations"},...Uo];function $o(){return Aa("NgEagerAnimations"),[...Cd];}Ga(qr,{providers:[{provide:dr,useValue:{appearance:"fill"}},Ka(Ua()),Xa(bo,Za()),{provide:ut},{provide:Ha,useClass:Qr,multi:!0},$o()]});/**i18n:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855*/